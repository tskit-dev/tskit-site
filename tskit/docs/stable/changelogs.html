
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Changelogs &#8212; Tskit manual</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5349f25f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=9c3e77be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/bespoke.css?v=00f581dd" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=1ae7504c"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'changelogs';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Citing tskit" href="citation.html" />
    <link rel="prev" title="Development" href="development.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <script data-goatcounter="https://tskit.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="introduction.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.svg" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="_static/logo.svg" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">Version 1.0.1</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-model.html">Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="provenance.html">Provenance</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Analysis</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="stats.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="topological-analysis.html">Topological analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="ibd.html">Identity by descent</a></li>
<li class="toctree-l1"><a class="reference internal" href="export.html">Data export</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Interfaces</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="python-api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="numba.html">Numba Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="c-api.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-formats.html">File formats</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">For developers</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Changelogs</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citing tskit</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/tskit-dev/tskit" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/tskit-dev/tskit/edit/main/docs/changelogs.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/tskit-dev/tskit/issues/new?title=Issue%20on%20page%20%2Fchangelogs.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/changelogs.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Changelogs</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python">Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">[1.0.1] - 2026-02-06</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">[1.0.0] - 2025-11-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">[0.6.4] - 2025-05-21</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">[0.6.3] - 2025-04-28</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">[0.6.2] - 2025-04-01</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">[0.6.1] - 2025-03-31</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">[0.6.0] - 2024-10-16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">[0.5.8] - 2024-06-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">[0.5.7] - 2024-06-17</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">[0.5.6] - 2023-10-10</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">[0.5.5] - 2023-05-17</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">[0.5.4] - 2023-01-13</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">[0.5.3] - 2022-10-03</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">[0.5.2] - 2022-07-29</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">[0.5.1] - 2022-07-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">[0.5.0] - 2022-06-22</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">[0.4.1] - 2022-01-11</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">[0.4.0] - 2021-12-10</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">[0.3.7] - 2021-07-08</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">[0.3.6] - 2021-05-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">[0.3.5] - 2021-03-16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">[0.3.4] - 2020-12-02</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">[0.3.3] - 2020-11-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">[0.3.2] - 2020-09-29</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">[0.3.1] - 2020-09-04</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">[0.3.0] - 2020-08-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">[0.2.3] - 2019-11-22</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">[0.2.2] - 2019-09-01</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">[0.2.1] - 2019-08-23</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">[0.1.5] - 2019-03-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">[0.1.4] - 2019-02-01</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">[0.1.3] - 2019-01-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">[0.1.2] - 2019-01-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">[0.1.1] - 2019-01-11</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">[0.1.0] - 2019-01-11</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a1-2019-01-10">[1.1.0a1] - 2019-01-10</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">[0.0.0] - 2019-01-10</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-api">C API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">[1.3.0] - 2025-11-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">[1.2.0] - 2025-09-24</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">[1.1.4] - 2025-03-31</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">[1.1.3] - 2024-10-16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">[1.1.2] - 2023-05-17</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">[1.1.1] - 2022-07-29</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">[1.1.0] - 2022-07-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">[1.0.0] - 2022-05-24</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">[0.99.15] - 2021-12-07</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">[0.99.14] - 2021-09-03</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id47">[0.99.13] - 2021-07-08</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id48">[0.99.12] - 2021-05-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id49">[0.99.11] - 2021-03-16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id50">[0.99.10] - 2021-01-25</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id51">[0.99.9] - 2021-01-22</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id52">[0.99.8] - 2020-11-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id53">[0.99.7] - 2020-09-29</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id54">[0.99.6] - 2020-09-04</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id55">[0.99.5] - 2020-08-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id56">[0.99.4] - 2020-08-12</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id57">[0.99.3] - 2020-07-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id58">[0.99.2] - 2019-03-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id59">[0.99.1] - 2019-01-24</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id60">[0.99.0] - 2019-01-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id61">[0.0.0] - 2019-01-10</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="changelogs">
<span id="sec-changelogs"></span><h1>Changelogs<a class="headerlink" href="#changelogs" title="Link to this heading">#</a></h1>
<section id="python">
<h2>Python<a class="headerlink" href="#python" title="Link to this heading">#</a></h2>
<section id="id1">
<h3>[1.0.1] - 2026-02-06<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>Maintenance release.</p>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ts.samples(population=...)</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the population
ID is e.g. a population name, rather than silently returning no samples.
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3344">#3344</a>)</p></li>
</ul>
<p><strong>Maintenance</strong></p>
<ul class="simple">
<li><p>Add support for Python 3.14</p></li>
</ul>
</section>
<section id="id2">
<h3>[1.0.0] - 2025-11-27<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">reference_sequence</span></code> argument to <code class="docutils literal notranslate"><span class="pre">TreeSequence.alignments</span></code> is now
required to be the same length as the tree sequence. Previously it was
required to be the length of the requested interval.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3317">#3317</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TreeSequence.tables</span></code> now returns a zero-copy immutable view of the tables.
To get a mutable copy, use <code class="docutils literal notranslate"><span class="pre">TreeSequence.dump_tables()</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3288">#3288</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/760">#760</a>)</p></li>
<li><p>For a tree sequence to be valid, the mutation parents in the table collection
must be correct and consistent with the topology of the tree at each mutation site.
<code class="docutils literal notranslate"><span class="pre">TableCollection.tree_sequence()</span></code> will raise a <code class="docutils literal notranslate"><span class="pre">_tskit.LibraryError</span></code> if this
is not the case.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2729">#2729</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2732">#2732</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3212">#3212</a>).</p></li>
<li><p>Drop Python 3.9 support and require Python &gt;= 3.10.
(<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3267">#3267</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ltrim</span></code>, <code class="docutils literal notranslate"><span class="pre">rtrim</span></code>, <code class="docutils literal notranslate"><span class="pre">trim</span></code> and <code class="docutils literal notranslate"><span class="pre">shift</span></code> raise an error if they are
used on a tree sequence containing a reference sequence.
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3210">#3210</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2091">#2091</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tskit.jit.numba.jitwrap</span></code> and <code class="docutils literal notranslate"><span class="pre">NumbaTreeSequence</span></code> to allow simplified
use and development of Numba-jitted functions with tree sequences. See the
<a class="reference external" href="https://tskit.dev/tskit/docs/stable/numba.html">documentation</a> for details.
(<a class="reference external" href="https://github.com/sponsors/andrewkern">&#64;andrewkern</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3295">#3295</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3294">#3294</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TreeSequence.map_to_vcf_model</span></code> now also returns the transformed positions and
contig length. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3174">#3174</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3173">#3173</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draw_svg()</span></code> methods now associate tree branches with edge IDs.
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3193">#3193</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/557">#557</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draw_svg()</span></code> methods now allow the y-axis to be placed on the right-hand side
using <code class="docutils literal notranslate"><span class="pre">y_axis=&quot;right&quot;</span></code>. (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3201">#3201</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">contig_id</span></code> and <code class="docutils literal notranslate"><span class="pre">isolated_as_missing</span></code> to <code class="docutils literal notranslate"><span class="pre">VcfModelMapping</span></code>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3219">#3219</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3177">#3177</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.mutations_edge</span></code>, which returns the edge ID for each mutation’s
edge. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3226">#3226</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3189">#3189</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.sites_ancestral_state</span></code>, <code class="docutils literal notranslate"><span class="pre">TreeSequence.mutations_derived_state</span></code> and
<code class="docutils literal notranslate"><span class="pre">TreeSequence.mutations_inherited_state</span></code> properties to return the ancestral state of sites,
the derived state of mutations and the inherited state of mutations as NumPy arrays of
the new NumPy 2.0 <code class="docutils literal notranslate"><span class="pre">StringDType</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3228">#3228</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2632">#2632</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3276">#3276</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2631">#2631</a>)</p></li>
<li><p>Tskit now requires NumPy version 2 or later. However, you can still use
tskit with NumPy 1.x by building tskit from source with NumPy 1.x using
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">tskit</span> <span class="pre">--no-binary</span> <span class="pre">tskit</span></code>. With NumPy 1.x, any use of the new
<code class="docutils literal notranslate"><span class="pre">StringDType</span></code> properties will result in a <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code>. If you try to
use another Python module that was compiled against NumPy 1.x with NumPy 2.x
you may see the error “A module that was compiled using NumPy 1.x cannot be
run in NumPy 2.0.0 as it may crash.”. If no newer version of the module is
available you will have to use the NumPy 1.x build as above.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Mutation.inherited_state</span></code> property which returns the inherited state
for a single mutation. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3277">#3277</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2631">#2631</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">all_mutations</span></code> and <code class="docutils literal notranslate"><span class="pre">all_edges</span></code> options to <code class="docutils literal notranslate"><span class="pre">TreeSequence.union</span></code>,
allowing greater flexibility in “disjoint union” situations.
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3181">#3181</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.divergence_matrix</span></code>, which was previously undocumented.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code>, <code class="docutils literal notranslate"><span class="pre">.genotype_matrix</span></code>, <code class="docutils literal notranslate"><span class="pre">.haplotypes</span></code>, and <code class="docutils literal notranslate"><span class="pre">.alignments</span></code> methods
now fully support <code class="docutils literal notranslate"><span class="pre">isolated_as_missing</span></code> behaviour with internal nodes. <code class="docutils literal notranslate"><span class="pre">.alignments</span></code> is
also around 10% faster.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3313">#3313</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3317">#3317</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1896">#1896</a>)</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>In some tables with mutations out-of-order <code class="docutils literal notranslate"><span class="pre">TableCollection.sort</span></code> did not re-order
the mutations so they formed a valid TreeSequence. <code class="docutils literal notranslate"><span class="pre">TableCollection.sort</span></code> and
<code class="docutils literal notranslate"><span class="pre">TableCollection.canonicalise</span></code> now sort mutations by site, then time (if known),
then the mutation’s node’s time, then number of descendant mutations
(ensuring that parent mutations occur before children), then node, then
their original order in the tables. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3257">#3257</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3253">#3253</a>)</p></li>
<li><p>Fix bug in <code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness_vector</span></code> that previously ignored
<code class="docutils literal notranslate"><span class="pre">span_normalise</span></code>: previously, <code class="docutils literal notranslate"><span class="pre">span_normalise</span></code> was always set to <code class="docutils literal notranslate"><span class="pre">False</span></code>;
now the default is <code class="docutils literal notranslate"><span class="pre">True</span></code> in agreement with other statistics, so the returned
values will change. (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3300">#3300</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3241">#3241</a>)</p></li>
<li><p>Fix bug in <code class="docutils literal notranslate"><span class="pre">TreeSequence.pair_coalescence_counts</span></code> when <code class="docutils literal notranslate"><span class="pre">span_normalise=True</span></code>
and a window breakpoint falls within an internal missing interval.
(<a class="reference external" href="https://github.com/sponsors/nspope">&#64;nspope</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3176">#3176</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3175">#3175</a>)</p></li>
<li><p>Fix metadata schemas that are equal but have different byte representations not
being considered equal when using <code class="docutils literal notranslate"><span class="pre">TableCollection.assert_equals</span></code> and
<code class="docutils literal notranslate"><span class="pre">Table.assert_equals</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3246">#3246</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3244">#3244</a>)</p></li>
<li><p>k-way statistics no longer require k sample sets, allowing in particular
“self” comparisons for <code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness</span></code>. This changes the
error code returned in some situations.
(<a class="reference external" href="https://github.com/sponsors/andrewkern">&#64;andrewkern</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3235">#3235</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3055">#3055</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">UnboundLocalError</span></code> in <code class="docutils literal notranslate"><span class="pre">draw_svg()</span></code> when using numeric <code class="docutils literal notranslate"><span class="pre">max_time</span></code>
values with mutations over roots.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3274">#3274</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3273">#3273</a>)</p></li>
<li><p>Prevent iterating over a <code class="docutils literal notranslate"><span class="pre">TopologyCounter</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3202">#3202</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1462">#1462</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">TreeSequence.concatenate()</span></code> to work with internal samples by using the
<code class="docutils literal notranslate"><span class="pre">all_mutations</span></code> and <code class="docutils literal notranslate"><span class="pre">all_edges</span></code> parameters in <code class="docutils literal notranslate"><span class="pre">union()</span></code>.
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3283">#3283</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3181">#3181</a>)</p></li>
</ul>
</section>
<section id="id3">
<h3>[0.6.4] - 2025-05-21<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.sample_nodes_by_ploidy</span></code> method to return the sample nodes
in a tree sequence, grouped by a ploidy value.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3157">#3157</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.individuals_nodes</span></code> attribute to return the nodes
associated with each individual as a numpy array.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3153">#3153</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">shift</span></code> method to both <code class="docutils literal notranslate"><span class="pre">TableCollection</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> classes
allowing the coordinate system to be shifted, and <code class="docutils literal notranslate"><span class="pre">TreeSequence.concatenate</span></code>
so a set of tree sequence can be added to the right of an existing one.
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3165">#3165</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3164">#3164</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.map_to_vcf_model</span></code> method to return a mapping of
the tree sequence to the VCF model.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3163">#3163</a>)</p></li>
<li><p>Use a thin space as the thousands separator in HTML output,
and a comma in CLI output.
(<a class="reference external" href="https://github.com/sponsors/hossam26644">&#64;hossam26644</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3167">#3167</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2951">#2951</a>)</p></li>
</ul>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p>Correct assertion message when tables are compared with metadata ignored.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3162">#3162</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3161">#3161</a>)</p></li>
</ul>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TreeSequence.write_vcf</span></code> now filters non-sample nodes from individuals
by default, instead of raising an error. These nodes can be included using the
new <code class="docutils literal notranslate"><span class="pre">include_non_sample_nodes</span></code> argument.
By default individual names (sample IDs) in VCF output are now of the form
<code class="docutils literal notranslate"><span class="pre">tsk_{individual.id}</span></code> Previously these were always
<code class="docutils literal notranslate"><span class="pre">&quot;tsk_{j}&quot;</span> <span class="pre">for</span> <span class="pre">j</span> <span class="pre">in</span> <span class="pre">range(num_individuals)</span></code>. This may break some downstream
code if individuals are specified. To fix, manually specify <code class="docutils literal notranslate"><span class="pre">individual_names</span></code>
to the required pattern.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3163">#3163</a>)</p></li>
</ul>
</section>
<section id="id4">
<h3>[0.6.3] - 2025-04-28<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TreeSequence.draw_svg(path=...)</span></code> was failing due to a missing
<cite>import xml.dom.minidom</cite> (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3144">#3144</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3145">#3145</a>)</p></li>
</ul>
</section>
<section id="id5">
<h3>[0.6.2] - 2025-04-01<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Metadata.schema was returning a modified schema, this is fixed to return a copy of
the original schema instead (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3129">#3129</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3130">#3130</a>)</p></li>
</ul>
<p><strong>Breaking Changes</strong></p>
<ul class="simple">
<li><p>Legacy formats from msprime&lt;0.6 (HDF5 formats) support is dropped. This includes the
support for <code class="docutils literal notranslate"><span class="pre">tskit</span> <span class="pre">upgrade</span></code>  (<a class="reference external" href="https://github.com/sponsors/hossam26644">&#64;hossam26644</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2812">#2812</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3138">#3138</a>)</p></li>
</ul>
</section>
<section id="id6">
<h3>[0.6.1] - 2025-03-31<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix to <code class="docutils literal notranslate"><span class="pre">TreeSequence.pair_coalescence_counts</span></code> output dimension when
provided with time windows containing no nodes (<a class="reference external" href="https://github.com/sponsors/nspope">&#64;nspope</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3046">#3046</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3058">#3058</a>)</p></li>
<li><p>Fix to <code class="docutils literal notranslate"><span class="pre">TreeSequence.pair_coalescence_counts</span></code> to normalise by non-missing
span if <code class="docutils literal notranslate"><span class="pre">span_normalise=True</span></code>. This resolves a bug where
<code class="docutils literal notranslate"><span class="pre">TreeSequence.pair_coalescence_rates</span></code> would return incorrect values for
intervals with missing trees.  (<a class="reference external" href="https://github.com/sponsors/natep">&#64;natep</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3053">#3053</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3059">#3059</a>)</p></li>
<li><p>Fix to <code class="docutils literal notranslate"><span class="pre">TreeSequence.pair_coalescence_rates</span></code> causing an
assertion to be triggered by floating point error, when all coalescence events are inside a single time window (<a class="reference external" href="https://github.com/sponsors/natep">&#64;natep</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3035">#3035</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3038">#3038</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add support for fixed-length arrays in metadata struct codec using the <code class="docutils literal notranslate"><span class="pre">length</span></code> property.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3088">#3088</a>,:pr:<cite>3090</cite>)</p></li>
<li><p>Add a new <code class="docutils literal notranslate"><span class="pre">TreeSequence.pca</span></code> method that uses randomized linear algebra
to find the top eigenvectors/values of the genetic relatedness matrix
(<a class="reference external" href="https://github.com/sponsors/hanbin973">&#64;hanbin973</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3008">#3008</a>)</p></li>
<li><p>Add methods on <cite>TreeSequence</cite> to efficiently get table metadata as a
numpy structured array. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3098">#3098</a>)</p></li>
<li><p>Add Python 3.13 support (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3107">#3107</a>)</p></li>
<li><p>Add a <cite>preamble</cite> argument to <cite>draw_svg()</cite> methods to allow adding arbitrary extra
graphics (e.g. legends) to SVG plots (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <cite>issue:`3086</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3121">#3121</a>)</p></li>
</ul>
</section>
<section id="id7">
<h3>[0.6.0] - 2024-10-16<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p><strong>Breaking Changes</strong></p>
<ul class="simple">
<li><p>The definition of <code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness</span></code> and
<code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness_weighted</span></code> are changed
to <em>average</em> over sample sets, rather than summing over them.
For computation with diploid sample sets, this will change the result
by a factor of four; for larger sample sets it will now produce
sensible values that are comparable between sample sets of different sizes.
The default for these methods is also changed to <code class="docutils literal notranslate"><span class="pre">polarised=True</span></code>,
but the output is unchanged for <code class="docutils literal notranslate"><span class="pre">centre=True</span></code> (the default).
See the documentation for these methods for more discussion.
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/mmosmond">&#64;mmosmond</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1623">#1623</a>)</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix to <code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness</span></code> with <code class="docutils literal notranslate"><span class="pre">indexes=None</span></code> and
<code class="docutils literal notranslate"><span class="pre">proportion=True</span></code>. (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2984">#2984</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1623">#1623</a>)</p></li>
<li><p>Fix to <code class="docutils literal notranslate"><span class="pre">TreeSequence.general_stat</span></code> when using non-strict summary functions
in the presence of non-ancestral material (very rare).
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2983">#2983</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1623">#1623</a>)</p></li>
<li><p>Printing <code class="docutils literal notranslate"><span class="pre">tskit.MetadataSchema(schema=None)</span></code> now shows <code class="docutils literal notranslate"><span class="pre">&quot;Null_schema&quot;</span></code> rather
than <code class="docutils literal notranslate"><span class="pre">None</span></code>, to avoid confusion (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2720">#2720</a>)</p></li>
<li><p>Limit output HTML when a tree sequence is displayed that has a large amount of metadata.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2999">#2999</a>)</p></li>
<li><p>Fix warning in <cite>draw_svg</cite> to use correct warnings module.
(<a class="reference external" href="https://github.com/sponsors/duncanMR">&#64;duncanMR</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2870">#2870</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2871">#2871</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">centre</span></code> option to <code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness</span></code> and
<code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness_weighted</span></code>.
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/mmosmond">&#64;mmosmond</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1623">#1623</a>)</p></li>
<li><p>Edges now have an <code class="docutils literal notranslate"><span class="pre">.interval</span></code> attribute returning a <code class="docutils literal notranslate"><span class="pre">tskit.Interval</span></code> object.
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2531">#2531</a>)</p></li>
<li><p>Variants now have a <cite>states()</cite> method that returns the genotypes as an
(inefficient) array of strings, rather than integer indexes, to
aid comparison of genetic variation (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2617">#2617</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">distance_between</span></code> that calculates the total distance between two nodes in a tree.
(<a class="reference external" href="https://github.com/sponsors/Billyzhang1229">&#64;Billyzhang1229</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2771">#2771</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">genetic_relatedness_matrix</span></code> method to compute
pairwise genetic relatedness between sample sets.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2823">#2823</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.extend_haplotypes</span></code> method that extends ancestral haplotypes
using recombination information, leading to unary nodes in many trees and
fewer edges. (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/hfr1tz3">&#64;hfr1tz3</a>, :user: <cite>nspope</cite>,
<a class="reference external" href="https://github.com/sponsors/avabamf">&#64;avabamf</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2651">#2651</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2938">#2938</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Table.drop_metadata</span></code> to make clearing metadata from tables easy.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2944">#2944</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Interval.mid</span></code> and <code class="docutils literal notranslate"><span class="pre">Tree.mid</span></code> properties to return the midpoint of the interval.
(<a class="reference external" href="https://github.com/sponsors/currocam">&#64;currocam</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2960">#2960</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">genetic_relatedness_vector</span></code> method to compute product of genetic relatedness
matrix and weight vector.
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2980">#2980</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">pair_coalescence_counts</span></code> method to calculate coalescence events per node or time
interval, <code class="docutils literal notranslate"><span class="pre">pair_coalescence_quantiles</span></code> method to estimate quantiles of pair
coalescence times using empirical CDF inversion, and <code class="docutils literal notranslate"><span class="pre">pair_coalescence_rates</span></code> method to
estimate instantaneous rates of pair coalescence within time intervals from the empirical CDF.
(<a class="reference external" href="https://github.com/sponsors/nspope">&#64;nspope</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2915">#2915</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2976">#2976</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2985">#2985</a>)</p></li>
<li><p>Add provenance information to the HTML notebook representation of a tree sequence.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3001">#3001</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">.draw_svg()</span></code> methods can add annotated genomic regions (e.g. genes) to the
x-axis. (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3002">#3002</a>)</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">node_titles</span></code> and a <code class="docutils literal notranslate"><span class="pre">mutation_titles</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">.draw_svg()</span></code> methods
which assigns a string to node and mutation symbols, commonly shown on mouseover. This
can reduce label clutter while retaining useful info (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3007">#3007</a>)</p></li>
<li><p>Added (currently undocumented) use of the <cite>order</cite> parameter in <code class="docutils literal notranslate"><span class="pre">Tree.draw_svg()</span></code> to
pass a subset of nodes, so subtrees can be visually collapsed. Additionally, an option
<code class="docutils literal notranslate"><span class="pre">pack_untracked_polytomies</span></code> allows large polytomies involving untracked samples to
be summarised as a dotted line (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3011">#3011</a> <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3010">#3010</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3012">#3012</a>)</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">title</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">.draw_svg()</span></code> methods (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3015">#3015</a>)</p></li>
<li><p>Add comma separation to all display numbers. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3017">#3017</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3018">#3018</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Tree.ancestors(u)</span></code> method. (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2706">#2706</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3021">#3021</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">resources</span></code> section to provenance schema. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3016">#3016</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.rf_distance</span></code> method to calculate the unweighted Robinson-Foulds distance
between two trees. (<a class="reference external" href="https://github.com/sponsors/Billyzhang1229">&#64;Billyzhang1229</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/995">#995</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2643">#2643</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3032">#3032</a>)</p></li>
</ul>
</section>
<section id="id8">
<h3>[0.5.8] - 2024-06-27<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Add support for numpy 2 (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2964">#2964</a>)</p></li>
</ul>
</section>
<section id="id9">
<h3>[0.5.7] - 2024-06-17<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<p><strong>Breaking Changes</strong></p>
<ul class="simple">
<li><p>The VCF writing methods (<cite>ts.write_vcf</cite>, <cite>ts.as_vcf</cite>) now error if a site with
position zero is encountered. The VCF spec does not allow zero position sites.
Suppress this error with the <cite>allow_position_zero</cite> argument.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2901">#2901</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2838">#2838</a>)</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix to the folded, expected allele frequency spectrum (i.e.,
<cite>TreeSequence.allele_frequency_spectrum(mode=”branch”, polarised=False)</cite>,
which was half as big as it should have been. (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>,
<a class="reference external" href="https://github.com/sponsors/nspope">&#64;nspope</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2933">#2933</a>)</p></li>
</ul>
</section>
<section id="id10">
<h3>[0.5.6] - 2023-10-10<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p><strong>Breaking Changes</strong></p>
<ul class="simple">
<li><p>tskit now requires Python 3.8, as Python 3.7 became end-of-life on 2023-06-27</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Tree.trmca now accepts &gt;2 nodes and returns nicer errors
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, :pr:2808, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2801">#2801</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2070">#2070</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2611">#2611</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness_weighted</span></code> stats method.
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/brieuclehmann">&#64;brieuclehmann</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2785">#2785</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1246">#1246</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.impute_unknown_mutations_time</span></code> method to return an
array of mutation times based on the times of associated nodes
(<a class="reference external" href="https://github.com/sponsors/duncanMR">&#64;duncanMR</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2760">#2760</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2758">#2758</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">asdict</span></code> to all dataclasses. These are returned when you access a row or
other tree sequence object. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2759">#2759</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2719">#2719</a>)</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix incompatibility with <code class="docutils literal notranslate"><span class="pre">jsonschema&gt;4.18.6</span></code> which caused
<code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">jsonschema</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">_validators</span></code>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2844">#2844</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2840">#2840</a>)</p></li>
</ul>
</section>
<section id="id11">
<h3>[0.5.5] - 2023-05-17<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<p><strong>Performance improvements</strong></p>
<ul class="simple">
<li><p>Methods like ts.at() which seek to a specified position on the sequence from
a new Tree instance are now much faster (<a class="reference external" href="https://github.com/sponsors/molpopgen">&#64;molpopgen</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2661">#2661</a>).</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> for variants to return a string representation of the raw data
without spewing megabytes of text (<a class="reference external" href="https://github.com/sponsors/chriscrsmith">&#64;chriscrsmith</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2695">#2695</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2694">#2694</a>)</p></li>
</ul>
<p><strong>Breaking Changes</strong></p>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix <cite>UnicodeDecodeError</cite> when calling <cite>Variant.alleles</cite> on the <cite>emscripten</cite> platform.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2754">#2754</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2737">#2737</a>)</p></li>
</ul>
</section>
<section id="id12">
<h3>[0.5.4] - 2023-01-13<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>A new <code class="docutils literal notranslate"><span class="pre">Tree.is_root</span></code> method avoids the need to to search the potentially
large list of <code class="docutils literal notranslate"><span class="pre">Tree.roots</span></code> (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2669">#2669</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2620">#2620</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> object now has the attributes <code class="docutils literal notranslate"><span class="pre">min_time</span></code> and <code class="docutils literal notranslate"><span class="pre">max_time</span></code>,
which are the minimum and maximum among the node times and mutation times,
respectively. (<a class="reference external" href="https://github.com/sponsors/szhan">&#64;szhan</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2612">#2612</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2271">#2271</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">draw_svg</span></code> methods now have a <code class="docutils literal notranslate"><span class="pre">max_num_trees</span></code> parameter to truncate
the total number of trees shown, giving a readable display for tree
sequences with many trees (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2652">#2652</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">draw_svg</span></code> methods now accept a <code class="docutils literal notranslate"><span class="pre">canvas_size</span></code> parameter to allow
extra room on the canvas e.g. for long labels or repositioned graphical
elements (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2646">#2646</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2645">#2645</a>)</p></li>
<li><dl class="simple">
<dt>The <code class="docutils literal notranslate"><span class="pre">Tree</span></code> object now has the method <code class="docutils literal notranslate"><span class="pre">siblings</span></code> to get</dt><dd><p>the siblings of a node. It returns an empty tuple if the node
has no siblings, is not a node in the tree, is the virtual root,
or is an isolated non-sample node.
(<a class="reference external" href="https://github.com/sponsors/szhan">&#64;szhan</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2618">#2618</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2616">#2616</a>)</p>
</dd>
</dl>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">msprime.RateMap</span></code> class has been ported into tskit: functionality should
be identical to the version in msprime, apart from minor changes in the formatting
of tabular text output (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2678">#2678</a>)</p></li>
<li><p>Tskit now supports and has wheels for Python 3.11. This Python version has a significant
performance boost (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2624">#2624</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2248">#2248</a>)</p></li>
<li><p>Add the <cite>update_sample_flags</cite> option to <cite>simplify</cite> which ensures
no node sample flags are changed to allow calling code to manage sample status.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2662">#2662</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2663">#2663</a>).</p></li>
</ul>
<p><strong>Breaking Changes</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">filter_populations</span></code>, <code class="docutils literal notranslate"><span class="pre">filter_individuals</span></code>, and <code class="docutils literal notranslate"><span class="pre">filter_sites</span></code>
parameters to simplify previously defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code> but now default
to <code class="docutils literal notranslate"><span class="pre">None</span></code>, which is treated as <code class="docutils literal notranslate"><span class="pre">True</span></code>. Previously, passing <code class="docutils literal notranslate"><span class="pre">None</span></code>
would result in an error. (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2609">#2609</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2608">#2608</a>)</p></li>
</ul>
</div></blockquote>
</section>
<section id="id13">
<h3>[0.5.3] - 2022-10-03<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<p><strong>Fixes</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Variant</span></code> object can now be initialized with 64 bit numpy ints as
returned e.g. from np.where (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2518">#2518</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2514">#2514</a>)</p></li>
<li><p>Fix <cite>tree.mrca</cite> for the case of a tree with multiple roots.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2533">#2533</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2521">#2521</a>)</p></li>
</ul>
</div></blockquote>
<p><strong>Features</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">ts.nodes</span></code> method now takes an <code class="docutils literal notranslate"><span class="pre">order</span></code> parameter so that nodes
can be visited in time order (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2471">#2471</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2370">#2370</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">samples</span></code> argument to <code class="docutils literal notranslate"><span class="pre">TreeSequence.genotype_matrix</span></code>.
Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, where all the sample nodes are selected.
(<a class="reference external" href="https://github.com/sponsors/szhan">&#64;szhan</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2493">#2493</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/678">#678</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ts.draw</span></code> and the <code class="docutils literal notranslate"><span class="pre">draw_svg</span></code> methods now have an optional <code class="docutils literal notranslate"><span class="pre">omit_sites</span></code>
parameter, aiding drawing large trees with many sites and mutations
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2519">#2519</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2516">#2516</a>)</p></li>
</ul>
</div></blockquote>
<p><strong>Breaking Changes</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Single statistics computed with <code class="docutils literal notranslate"><span class="pre">TreeSequence.general_stat</span></code> are now
returned as numpy scalars if windows=None, AND; samples is a single
list or None (for a 1-way stat), OR indexes is None or a single list of
length k (instead of a list of length-k lists).
(<a class="reference external" href="https://github.com/sponsors/gtsambos">&#64;gtsambos</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2417">#2417</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2308">#2308</a>)</p></li>
<li><p>Accessor methods such as ts.edge(n) and ts.node(n) now allow negative
indexes (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2478">#2478</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1008">#1008</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ts.subset()</span></code> produces valid tree sequences even if nodes are shuffled
out of time order (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2479">#2479</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2473">#2473</a>), and the
same for <code class="docutils literal notranslate"><span class="pre">tables.subset()</span></code> (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2489">#2489</a>). This involves
sorting the returned tables, potentially changing the returned edge order.</p></li>
</ul>
</div></blockquote>
<p><strong>Performance improvements</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>TreeSequence.link_ancestors no longer continues to process edges once all
of the sample and ancestral nodes have been accounted for, improving memory
overhead and overall performance
(<a class="reference external" href="https://github.com/sponsors/gtsambos">&#64;gtsambos</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2456">#2456</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2442">#2442</a>)</p></li>
</ul>
</div></blockquote>
</section>
<section id="id14">
<h3>[0.5.2] - 2022-07-29<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p>Iterating over <code class="docutils literal notranslate"><span class="pre">ts.variants()</span></code> could cause a segfault in tree sequences
with large numbers of alleles or very long alleles
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2437">#2437</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2429">#2429</a>).</p></li>
<li><p>Various circular references fixed, lowering peak memory usage
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2424">#2424</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2423">#2423</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2427">#2427</a>).</p></li>
<li><p>Fix bugs in VCF output when there isn’t a 1-1 mapping between individuals
and sample nodes (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2442">#2442</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2257">#2257</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2446">#2446</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2448">#2448</a>).</p></li>
</ul>
<p><strong>Performance improvements</strong></p>
<ul class="simple">
<li><p>TreeSequence.site position search performance greatly improved, with much lower
memory overhead (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2424">#2424</a>).</p></li>
<li><p>TreeSequence.samples time/population search performance greatly improved, with
much lower memory overhead (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2424">#2424</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1916">#1916</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">timeasc</span></code> and <code class="docutils literal notranslate"><span class="pre">timedesc</span></code> orders for <code class="docutils literal notranslate"><span class="pre">Tree.nodes</span></code> have much
improved performance and lower memory overhead
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2424">#2424</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2423">#2423</a>).</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Variant objects now have a <code class="docutils literal notranslate"><span class="pre">.num_missing</span></code> attribute and <code class="docutils literal notranslate"><span class="pre">.counts()</span></code> and
<code class="docutils literal notranslate"><span class="pre">.frequencies</span></code> methods (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2390">#2390</a> <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2393">#2393</a>).</p></li>
<li><p>Add the <cite>Tree.num_lineages(t)</cite> method to return the number of lineages present
at time t in the tree (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/386">#386</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2422">#2422</a>)</p></li>
<li><p>Efficient array access to table data now provided via attributes like
<cite>TreeSequence.nodes_time</cite>, etc (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2424">#2424</a>).</p></li>
</ul>
<p><strong>Breaking Changes</strong></p>
<ul class="simple">
<li><p>Previously, accessing (e.g.) <code class="docutils literal notranslate"><span class="pre">tables.edges</span></code> returned a different instance of
EdgeTable each time. This has been changed to return the same instance
for the lifetime of a given TableCollection instance. This is technically
a breaking change, although it’s difficult to see how code would depend
on the property that (e.g.) <code class="docutils literal notranslate"><span class="pre">tables.edges</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">tables.edges</span></code>.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2441">#2441</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2080">#2080</a>).</p></li>
</ul>
</section>
<section id="id15">
<h3>[0.5.1] - 2022-07-14<a class="headerlink" href="#id15" title="Link to this heading">#</a></h3>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p>Copies of a <cite>Variant</cite> object would cause a segfault when <code class="docutils literal notranslate"><span class="pre">.samples</span></code> was accessed.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2400">#2400</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2401">#2401</a>)</p></li>
</ul>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>Tables in a table collection can be replaced using the replace_with method
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1489">#1489</a> <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2389">#2389</a>)</p></li>
<li><p>SVG drawing routines now return a special string object that is automatically
rendered in a Jupyter notebook (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2377">#2377</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">Site.alleles()</span></code> method (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2380">#2380</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2385">#2385</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">variants()</span></code>, <code class="docutils literal notranslate"><span class="pre">haplotypes()</span></code> and <code class="docutils literal notranslate"><span class="pre">alignments()</span></code> methods can now
take a list of sample ids and a left and right position, to restrict the
size of the output (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2092">#2092</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2397">#2397</a>)</p></li>
</ul>
</section>
<section id="id16">
<h3>[0.5.0] - 2022-06-22<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">min_time</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">draw_svg</span></code> enables the youngest node as the y axis min
value, allowing negative times.
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2197">#2197</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2215">#2215</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VcfWriter.write</span></code> now prints the site ID of variants in the ID field of the
output VCF files.
(<a class="reference external" href="https://github.com/sponsors/roohy">&#64;roohy</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2103">#2103</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2107">#2107</a>)</p></li>
<li><p>Make dumping of tables and tree sequences to disk a zero-copy operation.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2111">#2111</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2124">#2124</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">copy</span></code> argument to <code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code> which if False reuses the
returned <code class="docutils literal notranslate"><span class="pre">Variant</span></code> object for improved performance. Defaults to True.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/605">#605</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2172">#2172</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tree.mrca</span></code> now takes 2 or more arguments and gives the common ancestor of them all.
(<a class="reference external" href="https://github.com/sponsors/savitakartik">&#64;savitakartik</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1340">#1340</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2121">#2121</a>)</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">edge</span></code> attribute to the <code class="docutils literal notranslate"><span class="pre">Mutation</span></code> class that gives the ID of the
edge that the mutation falls on.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/685">#685</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2279">#2279</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TreeSequence.split_edges</span></code> operation which inserts nodes into
edges at a specific time.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2276">#2276</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2296">#2296</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TreeSequence.decapitate</span></code> (and closely related
<code class="docutils literal notranslate"><span class="pre">TableCollection.delete_older</span></code>) operation to remove topology and mutations
older than a give time.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2236">#2236</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2302">#2302</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2331">#2331</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TreeSequence.individuals_time</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence.individuals_population</span></code>
methods to return arrays of per-individual times and populations, respectively.
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1481">#1481</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2298">#2298</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">sample_mask</span></code> and <code class="docutils literal notranslate"><span class="pre">site_mask</span></code> to <code class="docutils literal notranslate"><span class="pre">write_vcf</span></code> to allow parts
of an output VCF to be omitted or marked as missing data. Also add the
<code class="docutils literal notranslate"><span class="pre">as_vcf</span></code> convenience function, to return VCF as a string.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2300">#2300</a>).</p></li>
<li><p>Add support for missing data to <code class="docutils literal notranslate"><span class="pre">write_vcf</span></code>, and add the <code class="docutils literal notranslate"><span class="pre">isolated_as_missing</span></code>
argument. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2329">#2329</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/447">#447</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.num_children_array</span></code> and <code class="docutils literal notranslate"><span class="pre">Tree.num_children</span></code>. Returns the counts of
the number of child nodes for each or a single node in the tree respectively.
(<a class="reference external" href="https://github.com/sponsors/GertjanBisschop">&#64;GertjanBisschop</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2318">#2318</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2319">#2319</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2332">#2332</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.path_length</span></code>.
(<a class="reference external" href="https://github.com/sponsors/jeremyguez">&#64;jeremyguez</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2249">#2249</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2259">#2259</a>).</p></li>
<li><p>Add B1 tree balance index.
(<a class="reference external" href="https://github.com/sponsors/jeremyguez">&#64;jeremyguez</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2251">#2251</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2281">#2281</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2346">#2346</a>).</p></li>
<li><p>Add B2 tree balance index.
(<a class="reference external" href="https://github.com/sponsors/jeremyguez">&#64;jeremyguez</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2252">#2252</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2353">#2353</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2354">#2354</a>).</p></li>
<li><p>Add Sackin tree imbalance index.
(<a class="reference external" href="https://github.com/sponsors/jeremyguez">&#64;jeremyguez</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2246">#2246</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2258">#2258</a>).</p></li>
<li><p>Add Colless tree imbalance index.
(<a class="reference external" href="https://github.com/sponsors/jeremyguez">&#64;jeremyguez</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2250">#2250</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2266">#2266</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2344">#2344</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">direction</span></code> argument to <code class="docutils literal notranslate"><span class="pre">TreeSequence.edge_diffs</span></code>, allowing iteration
over diffs in the reverse direction. NOTE: this comes with a ~10% performance
regression as the implementation was moved from C to Python for simplicity
and maintainability. Please open an issue if this affects your application.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2120">#2120</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.edge_array</span></code> and <code class="docutils literal notranslate"><span class="pre">Tree.edge</span></code>. Returns the edge id of the edge encoding
the relationship of each node with its parent.
(<a class="reference external" href="https://github.com/sponsors/GertjanBisschop">&#64;GertjanBisschop</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2361">#2361</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2357">#2357</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">position</span></code> argument to <code class="docutils literal notranslate"><span class="pre">TreeSequence.site</span></code>. Returns a <code class="docutils literal notranslate"><span class="pre">Site</span></code> object if there is
one at the specified position. If not, it raises <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.
(<a class="reference external" href="https://github.com/sponsors/szhan">&#64;szhan</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2234">#2234</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2235">#2235</a>)</p></li>
</ul>
<p><strong>Breaking Changes</strong></p>
<ul class="simple">
<li><p>The JSON metadata codec now interprets the empty string as an empty object. This means
that applying a schema to an existing table will no longer necessitate modifying the
existing rows. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2064">#2064</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2104">#2104</a>)</p></li>
<li><p>Remove the previously deprecated <code class="docutils literal notranslate"><span class="pre">as_bytes</span></code> argument to <code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code>.
If you need genotypes in byte form this can be done following the code in the
<code class="docutils literal notranslate"><span class="pre">to_macs</span></code> method on line <code class="docutils literal notranslate"><span class="pre">5573</span></code> of <code class="docutils literal notranslate"><span class="pre">trees.py</span></code>.
This argument was initially deprecated more than 3 years ago when the code was part of
<code class="docutils literal notranslate"><span class="pre">msprime</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/605">#605</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2172">#2172</a>)</p></li>
<li><p>Arguments after <code class="docutils literal notranslate"><span class="pre">ploidy</span></code> in <code class="docutils literal notranslate"><span class="pre">write_vcf</span></code> marked as keyword only
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2329">#2329</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2315">#2315</a>).</p></li>
<li><p>When metadata equal to <code class="docutils literal notranslate"><span class="pre">b''</span></code> is printed to text or HTML tables it will render as
an empty string rather than <code class="docutils literal notranslate"><span class="pre">&quot;b''&quot;</span></code>. (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2349">#2349</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2351">#2351</a>)</p></li>
</ul>
</section>
<section id="id17">
<h3>[0.4.1] - 2022-01-11<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TableCollection.name_map</span></code> has been deprecated in favour of <code class="docutils literal notranslate"><span class="pre">table_name_map</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1981">#1981</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2086">#2086</a>)</p></li>
</ul>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TreeSequence.dump_text</span></code> now prints decoded metadata if there is a schema.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1860">#1860</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1527">#1527</a>)</p></li>
<li><p>Add missing <code class="docutils literal notranslate"><span class="pre">ReferenceSequence.__eq__</span></code> method.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2063">#2063</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2085">#2085</a>)</p></li>
</ul>
</section>
<section id="id18">
<h3>[0.4.0] - 2021-12-10<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Tree.num_nodes</span></code> method is now deprecated with a warning, because it confusingly
returns the number of nodes in the entire tree sequence, rather than in the tree. Text
summaries of trees (e.g. <code class="docutils literal notranslate"><span class="pre">str(tree)</span></code>) now return the number of nodes in the tree,
not in the entire tree sequence (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1966">#1966</a> <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1968">#1968</a>)</p></li>
<li><p>The CLI <code class="docutils literal notranslate"><span class="pre">info</span></code> command now gives more detailed information on the tree sequence
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1611">#1611</a>)</p></li>
<li><p>64 bits are now used to store the sizes of ragged table columns such as metadata,
allowing them to hold more data. This change is fully backwards and forwards compatible
for all tree-sequences whose ragged column sizes fit into 32 bits. New tree-sequences with
large offset arrays that require 64 bits will fail to load in previous versions with
error <code class="docutils literal notranslate"><span class="pre">_tskit.FileFormatError:</span> <span class="pre">An</span> <span class="pre">incompatible</span> <span class="pre">type</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">column</span> <span class="pre">was</span> <span class="pre">found</span> <span class="pre">in</span> <span class="pre">the</span>
<span class="pre">file</span></code>.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/343">#343</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1527">#1527</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1528">#1528</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1530">#1530</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1554">#1554</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1573">#1573</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1589">#1589</a>,:issue:<cite>1598</cite>,:issue:<cite>1628</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1571">#1571</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1579">#1579</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1585">#1585</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1590">#1590</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1602">#1602</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1618">#1618</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1620">#1620</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1652">#1652</a>).</p></li>
<li><p>The Tree class now conceptually has an extra node, the “virtual root” whose
children are the roots of the tree. The quintuply linked tree arrays
(parent_array, left_child_array, right_child_array, left_sib_array and right_sib_array)
all have one extra element.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1691">#1691</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>).</p></li>
<li><p>Tree traversal orders returned by the <code class="docutils literal notranslate"><span class="pre">nodes</span></code> method have changed when there
are multiple roots. Previously orders were defined locally for each root, but
are now globally across all roots. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>).</p></li>
<li><p>Individuals are no longer guaranteed or required to be topologically sorted in a tree sequence.
<code class="docutils literal notranslate"><span class="pre">TableCollection.sort</span></code> no longer sorts individuals.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1774">#1774</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1789">#1789</a>)</p></li>
<li><p>Metadata encoding errors now raise <code class="docutils literal notranslate"><span class="pre">MetadataEncodingError</span></code>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1505">#1505</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1827">#1827</a>).</p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">TreeSequence.samples</span></code> all arguments after <code class="docutils literal notranslate"><span class="pre">population</span></code> are now keyword only
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1715">#1715</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1831">#1831</a>).</p></li>
<li><p>Remove the method <code class="docutils literal notranslate"><span class="pre">TreeSequence.to_nexus</span></code> and replace with <code class="docutils literal notranslate"><span class="pre">TreeSequence.as_nexus</span></code>.
As the old method was not generating standards-compliant output, it seems unlikely
that it was used by anyone. Calls to <code class="docutils literal notranslate"><span class="pre">to_nexus</span></code> will result in a
NotImplementedError, informing users of the change. See below for details on
<code class="docutils literal notranslate"><span class="pre">as_nexus</span></code>.</p></li>
<li><p>Change default value for <code class="docutils literal notranslate"><span class="pre">missing_data_char</span></code> in the <code class="docutils literal notranslate"><span class="pre">TreeSequence.haplotypes</span></code>
method from “-” to “N”. This is a more idiomatic usage to indicate
missing data rather than a gap in an alignment. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1893">#1893</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1894">#1894</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">ibd_segments</span></code> method and associated classes to compute, summarise
and store segments of identity by descent from a tree sequence
(<a class="reference external" href="https://github.com/sponsors/gtsambos">&#64;gtsambos</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>).</p></li>
<li><p>Allow skipping of site and mutation tables in <code class="docutils literal notranslate"><span class="pre">TableCollection.sort</span></code>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1475">#1475</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1826">#1826</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TableCollection.sort_individuals</span></code> to sort the individuals as this is no longer done by the
default sort (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1774">#1774</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1789">#1789</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> to all tables allowing single rows to be updated. For example
<code class="docutils literal notranslate"><span class="pre">tables.nodes[0]</span> <span class="pre">=</span> <span class="pre">tables.nodes[0].replace(flags=tskit.NODE_IS_SAMPLE)</span></code>
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1545">#1545</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1600">#1600</a>).</p></li>
<li><p>Added a new parameter <code class="docutils literal notranslate"><span class="pre">time</span></code> to <code class="docutils literal notranslate"><span class="pre">TreeSequence.samples()</span></code> allowing to select
samples at a specific time point or time interval.
(<a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1692">#1692</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1700">#1700</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">table.metadata_vector</span></code> to all table classes to allow easy extraction of a single
metadata key into an array
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1676">#1676</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1690">#1690</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">time_units</span></code> to <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> to describe the units of the time dimension of the
tree sequence. This is then used to generate an error if <code class="docutils literal notranslate"><span class="pre">time_units</span></code> is <code class="docutils literal notranslate"><span class="pre">uncalibrated</span></code> when
using the branch lengths in statistics. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1644">#1644</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1760">#1760</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1832">#1832</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">virtual_root</span></code> property to the Tree class (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">num_edges</span></code> property to the Tree class (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>).</p></li>
<li><p>Improved performance for tree traversal methods in the <code class="docutils literal notranslate"><span class="pre">nodes</span></code> iterator.
Roughly a 10X performance increase for “preorder”, “postorder”, “timeasc”
and “timedesc” (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>).</p></li>
<li><p>Substantial performance improvement for <code class="docutils literal notranslate"><span class="pre">Tree.total_branch_length</span></code>
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1794">#1794</a> <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1799">#1799</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">discrete_genome</span></code> property to the TreeSequence class which is true if
all coordinates are discrete (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1144">#1144</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1819">#1819</a>)</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">random_nucleotides</span></code> function. (user:<cite>jeromekelleher</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1825">#1825</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TreeSequence.alignments</span></code> method. (user:<cite>jeromekelleher</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1825">#1825</a>)</p></li>
<li><p>Add alignment export in the FASTA and nexus formats using the
<code class="docutils literal notranslate"><span class="pre">TreeSequence.write_nexus</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence.write_fasta</span></code> methods.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1894">#1894</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">discrete_time</span></code> property to the TreeSequence class which is true if
all time coordinates are discrete or unknown (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1839">#1839</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1890">#1890</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">skip_tables</span></code> option to <code class="docutils literal notranslate"><span class="pre">load</span></code> to support only loading
top-level information from a file. Also add the <code class="docutils literal notranslate"><span class="pre">ignore_tables</span></code> option to
<code class="docutils literal notranslate"><span class="pre">TableCollection.equals</span></code> and <code class="docutils literal notranslate"><span class="pre">TableCollection.assert_equals</span></code> to
compare only top-level information. (<a class="reference external" href="https://github.com/sponsors/clwgg">&#64;clwgg</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1882">#1882</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1854">#1854</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">skip_reference_sequence</span></code> option to <code class="docutils literal notranslate"><span class="pre">load</span></code>. Also add the
<code class="docutils literal notranslate"><span class="pre">ignore_reference_sequence</span></code> option <code class="docutils literal notranslate"><span class="pre">equals</span></code> to compare two table
collections without comparing their reference sequence. (<a class="reference external" href="https://github.com/sponsors/clwgg">&#64;clwgg</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2019">#2019</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1971">#1971</a>).</p></li>
<li><p>tskit now supports python 3.10 (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1895">#1895</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1949">#1949</a>)</p></li>
</ul>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p><cite>dump_tables</cite> omitted individual parents. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1828">#1828</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1884">#1884</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">Tree.as_newick</span></code> method and deprecate <code class="docutils literal notranslate"><span class="pre">Tree.newick</span></code>. The
<code class="docutils literal notranslate"><span class="pre">as_newick</span></code> method by default labels samples with the pattern <code class="docutils literal notranslate"><span class="pre">&quot;n{node_id}&quot;</span></code>
which is much more useful that the behaviour of <code class="docutils literal notranslate"><span class="pre">Tree.newick</span></code> (which mimics
<code class="docutils literal notranslate"><span class="pre">ms</span></code> output). (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1671">#1671</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1838">#1838</a>.)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">as_nexus</span></code> and <code class="docutils literal notranslate"><span class="pre">write_nexus</span></code> methods to the TreeSequence class,
replacing the broken <code class="docutils literal notranslate"><span class="pre">to_nexus</span></code> method (see above). This uses the same
sample labelling pattern as <code class="docutils literal notranslate"><span class="pre">as_newick</span></code>.
(<a class="reference external" href="https://github.com/sponsors/jeetsukumaran">&#64;jeetsukumaran</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1785">#1785</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1835">#1835</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1836">#1836</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1838">#1838</a>)</p></li>
<li><p><cite>load_text</cite> created additional populations even if the population table was specified,
and didn’t strip newlines from input text (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1909">#1909</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1910">#1910</a>)</p></li>
</ul>
</section>
<section id="id19">
<h3>[0.3.7] - 2021-07-08<a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_mutations</span></code> now allows the ancestral state to be specified
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1542">#1542</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1550">#1550</a>)</p></li>
</ul>
</section>
<section id="id20">
<h3>[0.3.6] - 2021-05-14<a class="headerlink" href="#id20" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Mutation.position</span></code> and <code class="docutils literal notranslate"><span class="pre">Mutation.index</span></code> which were deprecated in 0.2.2 (Sep ‘19) have
been removed.</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add direct, copy-free access to the arrays representing the quintuply-linked structure
of <code class="docutils literal notranslate"><span class="pre">Tree</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">left_child_array</span></code>). Allows performant algorithms over the tree
structure using, for example, numba
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1299">#1299</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1320">#1320</a>).</p></li>
<li><p>Add fancy indexing to tables. E.g. <code class="docutils literal notranslate"><span class="pre">table[6:86]</span></code> returns a new table with the
specified rows. Supports slices, index arrays and boolean masks
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1221">#1221</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1348">#1348</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1342">#1342</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Table.append</span></code> method for adding rows from classes such as <code class="docutils literal notranslate"><span class="pre">SiteTableRow</span></code> and
<code class="docutils literal notranslate"><span class="pre">Site</span></code> (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1111">#1111</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1254">#1254</a>).</p></li>
<li><p>SVG visualization of a tree sequence can be restricted to displaying between left
and right genomic coordinates using the <code class="docutils literal notranslate"><span class="pre">x_lim</span></code> parameter. The default settings
now mean that if the left or right flanks of a tree sequence are entirely empty,
these regions will not be plotted in the SVG (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1288">#1288</a>).</p></li>
<li><p>SVG visualization of a single tree allows all mutations on an edge to be plotted
via the <code class="docutils literal notranslate"><span class="pre">all_edge_mutations</span></code> param (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>,:issue:<cite>1253</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1258">#1258</a>).</p></li>
<li><p>Entity classes such as <code class="docutils literal notranslate"><span class="pre">Mutation</span></code>, <code class="docutils literal notranslate"><span class="pre">Node</span></code> are now python dataclasses
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1261">#1261</a>).</p></li>
<li><p>Metadata decoding for table row access is now lazy (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1261">#1261</a>).</p></li>
<li><p>Add html notebook representation for <code class="docutils literal notranslate"><span class="pre">Tree</span></code> and change <code class="docutils literal notranslate"><span class="pre">Tree.__str__</span></code> from dict
representation to info table. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1269">#1269</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1304">#1304</a>).</p></li>
<li><p>Improve display of tables when <code class="docutils literal notranslate"><span class="pre">print``ed,</span> <span class="pre">limiting</span> <span class="pre">lines</span> <span class="pre">set</span> <span class="pre">via</span>
<span class="pre">``tskit.set_print_options</span></code> (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>,:issue:<cite>1270</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1300">#1300</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Table.assert_equals</span></code> and <code class="docutils literal notranslate"><span class="pre">TableCollection.assert_equals</span></code> which give an exact
report of any differences. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>,:issue:<cite>1076</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1328">#1328</a>)</p></li>
</ul>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>In drawing methods <code class="docutils literal notranslate"><span class="pre">max_tree_height</span></code> and <code class="docutils literal notranslate"><span class="pre">tree_height_scale</span></code> have been deprecated
in favour of <code class="docutils literal notranslate"><span class="pre">max_time</span></code> and <code class="docutils literal notranslate"><span class="pre">time_scale</span></code>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>,:issue:<cite>1262</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1331">#1331</a>).</p></li>
</ul>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p>Tree sequences were not properly init’d after unpickling
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1297">#1297</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1298">#1298</a>)</p></li>
</ul>
</section>
<section id="id21">
<h3>[0.3.5] - 2021-03-16<a class="headerlink" href="#id21" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>SVG visualization plots mutations at the correct time, if it exists, and a y-axis,
with label can be drawn. Both x- and y-axes can be plotted on trees as well as
tree sequences (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>,:issue:<cite>840</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/580">#580</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1236">#1236</a>)</p></li>
<li><p>SVG visualization now uses squares for sample nodes and red crosses for mutations,
with the site/mutation positions marked on the x-axis. Additionally, an x-axis
label can be set (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>,:issue:<cite>1155</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1194">#1194</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1182">#1182</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1213">#1213</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">parents</span></code> column to the individual table to allow recording of pedigrees
(<a class="reference external" href="https://github.com/sponsors/ivan-krukov">&#64;ivan-krukov</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/852">#852</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1125">#1125</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/866">#866</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1153">#1153</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1177">#1177</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1192">#1192</a> <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1199">#1199</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Tree.generate_random_binary</span></code> static method to create random
binary trees (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1037">#1037</a>).</p></li>
<li><p>Change the default behaviour of Tree.split_polytomies to generate
the shortest possible branch lengths instead of a fixed epsilon of
1e-10. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1089">#1089</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1090">#1090</a>)</p></li>
<li><p>Default value metadata in <code class="docutils literal notranslate"><span class="pre">add_row</span></code> functions is now schema-dependant, so that
<code class="docutils literal notranslate"><span class="pre">metadata={}</span></code> is no longer needed as an argument when a schema is present
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1084">#1084</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code> in metadata schemas is used to fill in missing values when encoding for
the struct codec. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1073">#1073</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1116">#1116</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">canonical</span></code> option to table collection sorting (<a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>,
<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/705">#705</a>)</p></li>
<li><p>Added various arguments to <code class="docutils literal notranslate"><span class="pre">TreeSequence.subset</span></code>, to allow for stable
population indexing and lossless node reordering with subset.
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1097">#1097</a>)</p></li>
</ul>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>Allow mutations that have the same derived state as their parent mutation.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1180">#1180</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1233">#1233</a>)</p></li>
<li><p>File minor version change to support individual parents</p></li>
</ul>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>tskit now requires Python 3.7 (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1235">#1235</a>)</p></li>
</ul>
</section>
<section id="id22">
<h3>[0.3.4] - 2020-12-02<a class="headerlink" href="#id22" title="Link to this heading">#</a></h3>
<p>Minor bugfix release.</p>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Reinstate the unused zlib_compression option to tskit.dump, as msprime &lt; 1.0
still uses it (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1067">#1067</a>).</p></li>
</ul>
</section>
<section id="id23">
<h3>[0.3.3] - 2020-11-27<a class="headerlink" href="#id23" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TreeSequence.genetic_relatedness</span></code> for calculating genetic relatedness between
pairs of sets of nodes (<a class="reference external" href="https://github.com/sponsors/brieuclehmann">&#64;brieuclehmann</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1021">#1021</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1023">#1023</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/974">#974</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/973">#973</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/898">#898</a>).</p></li>
<li><p>Expose <code class="docutils literal notranslate"><span class="pre">TreeSequence.coiterate()</span></code> method to allow iteration over 2 sequences
simultaneously, aiding comparison of trees from two sequences
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1021">#1021</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1022">#1022</a>).</p></li>
<li><p>tskit is now supported on, and has wheels for, python3.9
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/982">#982</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/907">#907</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tree.newick()</span></code> now has extra option <code class="docutils literal notranslate"><span class="pre">include_branch_lengths</span></code> to allow branch
lengths to be omitted (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/931">#931</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Tree.generate_star</span></code> static method to create star-topologies (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/934">#934</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Tree.generate_comb</span></code> and <code class="docutils literal notranslate"><span class="pre">Tree.generate_balanced</span></code> methods to create
example trees. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1026">#1026</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">equals</span></code> method to TreeSequence, TableCollection and each of the tables which
provides more flexible equality comparisons, for example, allowing
users to ignore metadata or provenance in the comparison
(<a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/896">#896</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/897">#897</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/913">#913</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/917">#917</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> to TreeSequence
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1011">#1011</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1020">#1020</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ts.dump</span></code> and <code class="docutils literal notranslate"><span class="pre">tskit.load</span></code> now support reading and writing file objects such as
FIFOs and sockets (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/657">#657</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/909">#909</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">tskit.write_ms</span></code> for writing to MS format
(<a class="reference external" href="https://github.com/sponsors/saurabhbelsare">&#64;saurabhbelsare</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/727">#727</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/854">#854</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TableCollection.indexes</span></code> for access to the edge insertion/removal order indexes
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/4">#4</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/916">#916</a>).</p></li>
<li><p>The dictionary representation of a TableCollection now contains its index
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/870">#870</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/921">#921</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TreeSequence._repr_html_</span></code> for use in jupyter notebooks
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/872">#872</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/923">#923</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TreeSequence.__str__</span></code> to display a summary for terminal usage
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/938">#938</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/985">#985</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TableCollection.dump</span></code> and <code class="docutils literal notranslate"><span class="pre">TableCollection.load</span></code>. This allows table
collections that are not valid tree sequences to be manipulated
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/14">#14</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/986">#986</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">nbytes</span></code> method to tables, <code class="docutils literal notranslate"><span class="pre">TableCollection</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> which
reports the size in bytes of those objects
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/54">#54</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/871">#871</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TableCollection.clear</span></code> to clear data table rows and optionally
provenances, table schemas and tree-sequence level metadata and schema
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/929">#929</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1001">#1001</a>).</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LightWeightTableCollection.asdict</span></code> and <code class="docutils literal notranslate"><span class="pre">TableCollection.asdict</span></code> now return copies
of arrays (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1025">#1025</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1029">#1029</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">map_mutations</span></code> method previously used the Fitch parsimony method, but this
does not produce parsimonious results on non-binary trees. We now now use the
Hartigan parsimony algorithm, which does (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/987">#987</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1030">#1030</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">flag</span></code> argument to tables’ <code class="docutils literal notranslate"><span class="pre">add_row</span></code> was treating the value as signed
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1027">#1027</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1031">#1031</a>).</p></li>
</ul>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The argument to <code class="docutils literal notranslate"><span class="pre">ts.dump</span></code> and <code class="docutils literal notranslate"><span class="pre">tskit.load</span></code> has been renamed <cite>file</cite> from <cite>path</cite>.</p></li>
<li><p>All arguments to <code class="docutils literal notranslate"><span class="pre">Tree.newick()</span></code> except precision are now keyword-only.</p></li>
<li><p>Renamed <code class="docutils literal notranslate"><span class="pre">ts.trait_regression</span></code> to <code class="docutils literal notranslate"><span class="pre">ts.trait_linear_model</span></code>.</p></li>
</ul>
</section>
<section id="id24">
<h3>[0.3.2] - 2020-09-29<a class="headerlink" href="#id24" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The argument order of <code class="docutils literal notranslate"><span class="pre">Tree.unrank</span></code> and <code class="docutils literal notranslate"><span class="pre">combinatorics.num_labellings</span></code> now
positions the number of leaves before the tree rank
(<a class="reference external" href="https://github.com/sponsors/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/950">#950</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/978">#978</a>)</p></li>
<li><p>Change several methods (<code class="docutils literal notranslate"><span class="pre">simplify()</span></code>, <code class="docutils literal notranslate"><span class="pre">trees()</span></code>, <code class="docutils literal notranslate"><span class="pre">Tree()</span></code>) so most parameters
are keyword only, not positional. This allows reordering of parameters, so
that deprecated parameters can be moved, and the parameter order in similar functions,
e.g. <code class="docutils literal notranslate"><span class="pre">TableCollection.simplify</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence.simplify()</span></code> can be made
consistent (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/374">#374</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/846">#846</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/851">#851</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">split_polytomies</span></code> method to the Tree class
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/809">#809</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/815">#815</a>)</p></li>
<li><p>Tree accessor functions (e.g. <code class="docutils literal notranslate"><span class="pre">ts.first()</span></code>, <code class="docutils literal notranslate"><span class="pre">ts.at()</span></code> pass extra parameters such as
<code class="docutils literal notranslate"><span class="pre">sample_indexes</span></code> to the underlying <code class="docutils literal notranslate"><span class="pre">Tree</span></code> constructor; also <code class="docutils literal notranslate"><span class="pre">root_threshold</span></code> can
be specified when calling <code class="docutils literal notranslate"><span class="pre">ts.trees()</span></code> (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/847">#847</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/848">#848</a>)</p></li>
<li><p>Genomic intervals returned by python functions are now namedtuples, allowing <code class="docutils literal notranslate"><span class="pre">.left</span></code>
<code class="docutils literal notranslate"><span class="pre">.right</span></code> and <code class="docutils literal notranslate"><span class="pre">.span</span></code> usage (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/784">#784</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/786">#786</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/811">#811</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">include_terminal</span></code> parameter to edge diffs iterator, to output the last edges
at the end of a tree sequence (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/783">#783</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/787">#787</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/832">#832</a> - Add <code class="docutils literal notranslate"><span class="pre">metadata_bytes</span></code> method to allow access to raw
TableCollection metadata (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/842">#842</a>)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">tree.is_isolated(u)</span></code> method (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/443">#443</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tskit.is_unknown_time</span></code> can now check arrays. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/857">#857</a>).</p></li>
</ul>
</section>
<section id="id25">
<h3>[0.3.1] - 2020-09-04<a class="headerlink" href="#id25" title="Link to this heading">#</a></h3>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/823">#823</a> - Fix mutation time error when using
<code class="docutils literal notranslate"><span class="pre">simplify(keep_input_roots=True)</span></code> (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/823">#823</a>).</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/821">#821</a> - Fix mutation rows with unknown time never being
equal (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/822">#822</a>).</p></li>
</ul>
</section>
<section id="id26">
<h3>[0.3.0] - 2020-08-27<a class="headerlink" href="#id26" title="Link to this heading">#</a></h3>
<p>Major feature release for metadata schemas, set-like operations, mutation times,
SVG drawing improvements and many others.</p>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The default display order for tree visualisations has been changed to <code class="docutils literal notranslate"><span class="pre">minlex</span></code>
(see below) to stabilise the node ordering and to make trees more readily
comparable. The old behaviour is still available with <code class="docutils literal notranslate"><span class="pre">order=&quot;tree&quot;</span></code>.</p></li>
<li><p>File system operations such as dump/load now raise an appropriate OSError
instead of <code class="docutils literal notranslate"><span class="pre">tskit.FileFormatError</span></code>. Loading from an empty file now raises
and <code class="docutils literal notranslate"><span class="pre">EOFError</span></code>.</p></li>
<li><p>Bad tree topologies are detected earlier, so that it is no longer possible
to create a <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> object which contains a parent with contradictory
children on an interval. Previously an error was thrown when some operation
building the trees was attempted (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/709">#709</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TableCollection</span> <span class="pre">object</span></code> no longer implements the iterator protocol.
Previously <code class="docutils literal notranslate"><span class="pre">list(tables)</span></code> returned a sequence of (table_name, table_instance)
tuples. This has been replaced with the more intuitive and future-proof
<code class="docutils literal notranslate"><span class="pre">TableCollection.name_map</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence.tables_dict</span></code> attributes, which
perform the same function (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/500">#500</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/694">#694</a>).</p></li>
<li><p>The arguments to <code class="docutils literal notranslate"><span class="pre">TreeSequence.genotype_matrix</span></code>, <code class="docutils literal notranslate"><span class="pre">TreeSequence.haplotypes</span></code>
and <code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code> must now be keyword arguments, not positional. This
is to support the change from <code class="docutils literal notranslate"><span class="pre">impute_missing_data</span></code> to <code class="docutils literal notranslate"><span class="pre">isolated_as_missing</span></code>
in the arguments to these methods. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/716">#716</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/794">#794</a>)</p></li>
</ul>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>New methods to perform set operations on TableCollections and TreeSequences.
<code class="docutils literal notranslate"><span class="pre">TableCollection.subset</span></code> subsets and reorders table collections by nodes
(<a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/663">#663</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/690">#690</a>).
<code class="docutils literal notranslate"><span class="pre">TableCollection.union</span></code> forms the node-wise union of two table collections
(<a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/381">#381</a> <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/623">#623</a>).</p></li>
<li><p>Mutations now have an optional double-precision floating-point <code class="docutils literal notranslate"><span class="pre">time</span></code> column.
If not specified, this defaults to a particular <code class="docutils literal notranslate"><span class="pre">NaN</span></code> value (<code class="docutils literal notranslate"><span class="pre">tskit.UNKNOWN_TIME</span></code>)
indicating that the time is unknown. For a tree sequence to be considered valid
it must meet new criteria for mutation times, see <a class="reference internal" href="data-model.html#sec-mutation-requirements"><span class="std std-ref">Mutation requirements</span></a>.
Also added function <code class="docutils literal notranslate"><span class="pre">TableCollection.compute_mutation_times</span></code>. Table sorting orders
mutations by non-increasing time per-site, which is also a requirement for a valid tree
sequence (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/672">#672</a>).</p></li>
<li><p>Add support for trees with internal samples for the Kendall-Colijn tree distance
metric. (<a class="reference external" href="https://github.com/sponsors/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/610">#610</a>)</p></li>
<li><p>Add background shading to SVG tree sequences to reflect tree position along the
sequence (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/563">#563</a>).</p></li>
<li><p>Tables with a metadata column now have a <code class="docutils literal notranslate"><span class="pre">metadata_schema</span></code> that is used to
validate and encode metadata that is passed to <code class="docutils literal notranslate"><span class="pre">add_row</span></code> and decode metadata
on calls to <code class="docutils literal notranslate"><span class="pre">table[j]</span></code> and e.g. <code class="docutils literal notranslate"><span class="pre">tree_sequence.node(j)</span></code> See <a class="reference internal" href="metadata.html#sec-metadata"><span class="std std-ref">Metadata</span></a>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/491">#491</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/542">#542</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/543">#543</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/601">#601</a>).</p></li>
<li><p>The tree-sequence now has top-level metadata with a schema
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/666">#666</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/644">#644</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/642">#642</a>).</p></li>
<li><p>Add classes to SVG drawings to allow easy adjustment and styling, and document the new
<code class="docutils literal notranslate"><span class="pre">tskit.Tree.draw_svg()</span></code> and <code class="docutils literal notranslate"><span class="pre">tskit.TreeSequence.draw_svg()</span></code> methods. This also fixes
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/467">#467</a> for duplicate SVG entity <code class="docutils literal notranslate"><span class="pre">id</span></code> s in Jupyter notebooks
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/555">#555</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">to_nexus</span></code> function that outputs a tree sequence in Nexus format
(<a class="reference external" href="https://github.com/sponsors/saunack">&#64;saunack</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/550">#550</a>).</p></li>
<li><p>Add extension of Kendall-Colijn tree distance metric for tree sequences
computed by <code class="docutils literal notranslate"><span class="pre">TreeSequence.kc_distance</span></code>
(<a class="reference external" href="https://github.com/sponsors/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/548">#548</a>).</p></li>
<li><p>Add an optional node traversal order in <code class="docutils literal notranslate"><span class="pre">tskit.Tree</span></code> that uses the minimum
lexicographic order of leaf nodes visited. This ordering (<code class="docutils literal notranslate"><span class="pre">&quot;minlex_postorder&quot;</span></code>)
adds more determinism because it constraints the order in which children of
a node are visited (<a class="reference external" href="https://github.com/sponsors/brianzhang01">&#64;brianzhang01</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/411">#411</a>).</p></li>
<li><p>Add an <code class="docutils literal notranslate"><span class="pre">order</span></code> argument to the tree visualisation functions which supports
two node orderings: <code class="docutils literal notranslate"><span class="pre">&quot;tree&quot;</span></code> (the previous default) and <code class="docutils literal notranslate"><span class="pre">&quot;minlex&quot;</span></code>
which stabilises the node ordering (making it easier to compare trees).
The default node ordering is changed to <code class="docutils literal notranslate"><span class="pre">&quot;minlex&quot;</span></code>
(<a class="reference external" href="https://github.com/sponsors/brianzhang01">&#64;brianzhang01</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/389">#389</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/566">#566</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">_repr_html_</span></code> to tables, so that jupyter notebooks render them as
html tables (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/514">#514</a>).</p></li>
<li><p>Remove support for <code class="docutils literal notranslate"><span class="pre">kc_distance</span></code> on trees with unary nodes
(<a class="reference external" href="https://github.com/sponsors/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/508">#508</a>).</p></li>
<li><p>Improve Kendall-Colijn tree distance algorithm to operate in O(n^2) time
instead of O(n^2 * log(n)) where n is the number of samples
(<a class="reference external" href="https://github.com/sponsors/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/490">#490</a>).</p></li>
<li><p>Add a metadata column to the migrations table. Works similarly to existing
metadata columns on other tables (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/505">#505</a>).</p></li>
<li><p>Add a metadata column to the edges table. Works similarly to existing
metadata columns on other tables (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/496">#496</a>).</p></li>
<li><p>Allow sites with missing data to be output by the <code class="docutils literal notranslate"><span class="pre">haplotypes</span></code> method, by
default replacing with <code class="docutils literal notranslate"><span class="pre">-</span></code>. Errors are no longer raised for missing data
with <code class="docutils literal notranslate"><span class="pre">isolated_as_missing=True</span></code>; the error types returned for bad alleles
(e.g. multiletter or non-ascii) have also changed from <code class="docutils literal notranslate"><span class="pre">_tskit.LibraryError</span></code>
to TypeError, or ValueError if the missing data character clashes
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/426">#426</a>).</p></li>
<li><p>Access the number of children of a node in a tree directly using
<code class="docutils literal notranslate"><span class="pre">tree.num_children(u)</span></code> (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/436">#436</a>).</p></li>
<li><p>User specified allele mapping for genotypes in <code class="docutils literal notranslate"><span class="pre">variants</span></code> and
<code class="docutils literal notranslate"><span class="pre">genotype_matrix</span></code> (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/430">#430</a>).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">root_threshold</span></code> option for the Tree class, which allows
us to efficiently iterate over ‘real’ roots when we have
missing data (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/462">#462</a>).</p></li>
<li><p>Add pickle support for <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> (<a class="reference external" href="https://github.com/sponsors/terhorst">&#64;terhorst</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/473">#473</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tree.as_dict_of_dicts()</span></code> function to enable use with networkx. See
<a class="reference external" href="https://tskit.dev/tutorials/analysing_trees.html#sec-tutorial-networkx" title="(in Project name not set)"><span>Networkx</span></a> (<a class="reference external" href="https://github.com/sponsors/winni2k">&#64;winni2k</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/457">#457</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tree_sequence.to_macs()</span></code> function to convert tree sequence to MACS
format (<a class="reference external" href="https://github.com/sponsors/winni2k">&#64;winni2k</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/727">#727</a>)</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">keep_input_roots</span></code> option to simplify which, if enabled, adds edges
from the MRCAs of samples in the simplified tree sequence back to the roots
in the input tree sequence (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/775">#775</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/782">#782</a>).</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/453">#453</a> - Fix LibraryError when <code class="docutils literal notranslate"><span class="pre">tree.newick()</span></code> is called with large node time
values (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/637">#637</a>).</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/777">#777</a> - Mutations over isolated samples were incorrectly decoded as
missing data. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/778">#778</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/776">#776</a> - Fix a segfault when a partial list of samples
was provided to the <code class="docutils literal notranslate"><span class="pre">variants</span></code> iterator. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/778">#778</a>)</p></li>
</ul>
<p><strong>Deprecated</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">sample_counts</span></code> feature has been deprecated and is now
ignored. Sample counts are now always computed.</p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">TreeSequence.genotype_matrix</span></code>, <code class="docutils literal notranslate"><span class="pre">TreeSequence.haplotypes</span></code>
and <code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code> the <code class="docutils literal notranslate"><span class="pre">impute_missing_data</span></code> argument is deprecated
and replaced with <code class="docutils literal notranslate"><span class="pre">isolated_as_missing</span></code>. Note that to get the same behaviour
<code class="docutils literal notranslate"><span class="pre">impute_missing_data=True</span></code> should be replaced with <code class="docutils literal notranslate"><span class="pre">isolated_as_missing=False</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/716">#716</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/794">#794</a>)</p></li>
</ul>
</section>
<section id="id27">
<h3>[0.2.3] - 2019-11-22<a class="headerlink" href="#id27" title="Link to this heading">#</a></h3>
<p>Minor feature release, providing a tree distance metric and various
method to manipulate tree sequence data.</p>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Kendall-Colijn tree distance metric computed by <code class="docutils literal notranslate"><span class="pre">Tree.kc_distance</span></code>
(<a class="reference external" href="https://github.com/sponsors/awohns">&#64;awohns</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/172">#172</a>).</p></li>
<li><p>New “timeasc” and “timedesc” orders for tree traversals
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/246">#246</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/399">#399</a>).</p></li>
<li><p>Up to 2X performance improvements to tree traversals (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/400">#400</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">trim</span></code>, <code class="docutils literal notranslate"><span class="pre">delete_sites</span></code>, <code class="docutils literal notranslate"><span class="pre">keep_intervals</span></code> and <code class="docutils literal notranslate"><span class="pre">delete_intervals</span></code>
methods to edit tree sequence data. (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/364">#364</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/372">#372</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/377">#377</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/390">#390</a>).</p></li>
<li><p>Initial online documentation for CLI (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/414">#414</a>).</p></li>
<li><p>Various documentation improvements (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>).</p></li>
<li><p>Rename the <code class="docutils literal notranslate"><span class="pre">map_ancestors</span></code> function to <code class="docutils literal notranslate"><span class="pre">link_ancestors</span></code>
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/gtsambos">&#64;gtsambos</a>; <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/406">#406</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/262">#262</a>). The original function is retained as an deprecated alias.</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix height scaling issues with SVG tree drawing (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/407">#407</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/383">#383</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/378">#378</a>).</p></li>
<li><p>Do not reuse buffers in <code class="docutils literal notranslate"><span class="pre">LdCalculator</span></code> (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/397">#397</a> and
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/396">#396</a>.</p></li>
</ul>
</section>
<section id="id28">
<h3>[0.2.2] - 2019-09-01<a class="headerlink" href="#id28" title="Link to this heading">#</a></h3>
<p>Minor bugfix release.</p>
<p>Relaxes overly-strict input requirements on individual location data that
caused some SLiM tree sequences to fail loading in version 0.2.1
(see <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/351">#351</a>).</p>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Add log_time height scaling option for drawing SVG trees
(<a class="reference external" href="https://github.com/sponsors/marianne-aspbury">&#64;marianne-aspbury</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/324">#324</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/303">#303</a>.</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Allow 4G metadata columns (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/342">#342</a> and
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/341">#341</a>.</p></li>
</ul>
</section>
<section id="id29">
<h3>[0.2.1] - 2019-08-23<a class="headerlink" href="#id29" title="Link to this heading">#</a></h3>
<p>Major feature release, adding support for population genetic statistics,
improved VCF output and many other features.</p>
<p><strong>Note:</strong> Version 0.2.0 was skipped because of an error uploading to PyPI
which could not be undone.</p>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Genotype arrays returned by <code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code> and
<code class="docutils literal notranslate"><span class="pre">TreeSequence.genotype_matrix</span></code> have changed from unsigned 8 bit values
to signed 8 bit values to accomodate missing data (see <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/144">#144</a> for
discussion). Specifically, the dtype of the genotypes arrays have changed
from numpy “u8” to “i8”. This should not affect client code in any way
unless it specifically depends on the type of the returned numpy array.</p></li>
<li><p>The VCF written by the <code class="docutils literal notranslate"><span class="pre">write_vcf</span></code> is no longer compatible with previous
versions, which had significant shortcomings. Position values are now rounded
to the nearest integer by default, REF and ALT values are derived from the
actual allelic states (rather than always being A and T). Sample names
are now of the form <code class="docutils literal notranslate"><span class="pre">tsk_j</span></code> for sample ID j. Most of the legacy behaviour
can be recovered with new options, however.</p></li>
<li><p>The positional parameter <code class="docutils literal notranslate"><span class="pre">reference_sets</span></code> in <code class="docutils literal notranslate"><span class="pre">genealogical_nearest_neighbours</span></code>
and <code class="docutils literal notranslate"><span class="pre">mean_descendants</span></code> TreeSequence methods has been renamed to
<code class="docutils literal notranslate"><span class="pre">sample_sets</span></code>.</p></li>
</ul>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Support for general windowed statistics. Implementations of diversity,
divergence, segregating sites, Tajima’s D, Fst, Patterson’s F statistics,
Y statistics, trait correlations and covariance, and k-dimensional allele
frequency specra (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/molpopgen">&#64;molpopgen</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">keep_unary</span></code> option to simplify (<a class="reference external" href="https://github.com/sponsors/gtsambos">&#64;gtsambos</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1">#1</a>
and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/143">#143</a>.</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">map_ancestors</span></code> method to TableCollection (user:<cite>gtsambos</cite>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/175">#175</a>.</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">squash</span></code> method to EdgeTable (<a class="reference external" href="https://github.com/sponsors/gtsambos">&#64;gtsambos</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/59">#59</a> and
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/285">#285</a>.</p></li>
<li><p>Add support for individuals to VCF output, and fix major issues with output
format (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>). Position values are transformed in a much
more straightforward manner and output has been generalised substantially.
Adds <code class="docutils literal notranslate"><span class="pre">individual_names</span></code> and <code class="docutils literal notranslate"><span class="pre">position_transform</span></code> arguments.
See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/286">#286</a>, and issues <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2">#2</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/30">#30</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/73">#73</a>.</p></li>
<li><p>Control height scale in SVG trees using ‘tree_height_scale’ and ‘max_tree_height’
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/167">#167</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/168">#168</a>.
Various other improvements to tree drawing (<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/235">#235</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/241">#241</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/242">#242</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/252">#252</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/259">#259</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.max_root_time</span></code> property (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/170">#170</a>.</p></li>
<li><p>Improved input checking on various methods taking numpy arrays as parameters
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/8">#8</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/185">#185</a>.</p></li>
<li><p>Define the branch length over roots in trees to be zero (previously raise
an error; <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/188">#188</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/191">#191</a>.</p></li>
<li><p>Implementation of the genealogical nearest neighbours statistic
(<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">delete_intervals</span></code> and <code class="docutils literal notranslate"><span class="pre">keep_intervals</span></code> method for the TableCollection
to allow slicing out of topology from specific intervals (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>,
<a class="reference external" href="https://github.com/sponsors/andrewkern">&#64;andrewkern</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>). See
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/225">#225</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/261">#261</a>.</p></li>
<li><p>Support for missing data via a topological definition (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/270">#270</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/272">#272</a>.</p></li>
<li><p>Add ability to set columns directly in the Tables API (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/12">#12</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/307">#307</a>.</p></li>
<li><p>Various documentation improvements from <a class="reference external" href="https://github.com/sponsors/brianzhang01">&#64;brianzhang01</a>, <a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>,
<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a> and <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>.</p></li>
</ul>
<p><strong>Deprecated</strong></p>
<ul class="simple">
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">Tree.length</span></code> in favour of <code class="docutils literal notranslate"><span class="pre">Tree.span</span></code> (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/169">#169</a>.</p></li>
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">TreeSequence.pairwise_diversity</span></code> in favour of the new
<code class="docutils literal notranslate"><span class="pre">diversity</span></code> method. See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/215">#215</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/312">#312</a>.</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Catch NaN and infinity values within tables (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/293">#293</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/294">#294</a>.</p></li>
</ul>
</section>
<section id="id30">
<h3>[0.1.5] - 2019-03-27<a class="headerlink" href="#id30" title="Link to this heading">#</a></h3>
<p>This release removes support for Python 2, adds more flexible tree access and a
new <code class="docutils literal notranslate"><span class="pre">tskit</span></code> command line interface.</p>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Remove support for Python 2 (<a class="reference external" href="https://github.com/sponsors/hugovk">&#64;hugovk</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/137">#137</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/140">#140</a>.</p></li>
<li><p>More flexible tree API (<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/121">#121</a>). Adds <code class="docutils literal notranslate"><span class="pre">TreeSequence.at</span></code> and
<code class="docutils literal notranslate"><span class="pre">TreeSequence.at_index</span></code> methods to find specific trees, and efficient support
for backwards traversal using <code class="docutils literal notranslate"><span class="pre">reversed(ts.trees())</span></code>.</p></li>
<li><p>Add initial <code class="docutils literal notranslate"><span class="pre">tskit</span></code> CLI (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/80">#80</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tskit</span> <span class="pre">info</span></code> CLI command (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/66">#66</a>)</p></li>
<li><p>Enable drawing SVG trees with coloured edges (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>; <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/149">#149</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.is_descendant</span></code> method (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/120">#120</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.copy</span></code> method (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/122">#122</a>)</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fixes to the low-level C API (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/132">#132</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/157">#157</a>)</p></li>
</ul>
</section>
<section id="id31">
<h3>[0.1.4] - 2019-02-01<a class="headerlink" href="#id31" title="Link to this heading">#</a></h3>
<p>Minor feature update. Using the C API 0.99.1.</p>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Add interface for setting TableCollection.sequence_length:
<a class="github reference external" href="https://github.com/tskit-dev/tskit/issues/107">tskit-dev/tskit#107</a></p></li>
<li><p>Add support for building and dropping TableCollection indexes:
<a class="github reference external" href="https://github.com/tskit-dev/tskit/issues/108">tskit-dev/tskit#108</a></p></li>
</ul>
</section>
<section id="id32">
<h3>[0.1.3] - 2019-01-14<a class="headerlink" href="#id32" title="Link to this heading">#</a></h3>
<p>Bugfix release.</p>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix missing provenance schema: <a class="github reference external" href="https://github.com/tskit-dev/tskit/issues/81">tskit-dev/tskit#81</a></p></li>
</ul>
</section>
<section id="id33">
<h3>[0.1.2] - 2019-01-14<a class="headerlink" href="#id33" title="Link to this heading">#</a></h3>
<p>Bugfix release.</p>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix memory leak in table collection. <a class="github reference external" href="https://github.com/tskit-dev/tskit/issues/76">tskit-dev/tskit#76</a></p></li>
</ul>
</section>
<section id="id34">
<h3>[0.1.1] - 2019-01-11<a class="headerlink" href="#id34" title="Link to this heading">#</a></h3>
<p>Fixes broken distribution tarball for 0.1.0.</p>
</section>
<section id="id35">
<h3>[0.1.0] - 2019-01-11<a class="headerlink" href="#id35" title="Link to this heading">#</a></h3>
<p>Initial release after separation from msprime 0.6.2. Code that reads tree sequence
files and processes them should be able to work without changes.</p>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Removal of the previously deprecated <code class="docutils literal notranslate"><span class="pre">sort_tables</span></code>, <code class="docutils literal notranslate"><span class="pre">simplify_tables</span></code>
and <code class="docutils literal notranslate"><span class="pre">load_tables</span></code> functions. All code should change to using corresponding
TableCollection methods.</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">SparseTree</span></code> class to <code class="docutils literal notranslate"><span class="pre">Tree</span></code>.</p></li>
</ul>
</section>
<section id="a1-2019-01-10">
<h3>[1.1.0a1] - 2019-01-10<a class="headerlink" href="#a1-2019-01-10" title="Link to this heading">#</a></h3>
<p>Initial alpha version posted to PyPI for bootstrapping.</p>
</section>
<section id="id36">
<h3>[0.0.0] - 2019-01-10<a class="headerlink" href="#id36" title="Link to this heading">#</a></h3>
<p>Initial extraction of tskit code from msprime. Relicense to MIT.</p>
<p>Code copied at hash 29921408661d5fe0b1a82b1ca302a8b87510fd23</p>
</section>
</section>
<section id="c-api">
<h2>C API<a class="headerlink" href="#c-api" title="Link to this heading">#</a></h2>
<section id="id37">
<h3>[1.3.0] - 2025-11-27<a class="headerlink" href="#id37" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trees.c</span></code> now depends on <code class="docutils literal notranslate"><span class="pre">genotypes.c</span></code> (via <code class="docutils literal notranslate"><span class="pre">tskit/genotypes.h</span></code>) and must
be built and linked together with it.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3324">#3324</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tsk_variant_init</span></code> and associated variant decoding methods now
fully support <code class="docutils literal notranslate"><span class="pre">TSK_ISOLATED_NOT_MISSING</span></code> not being set for internal nodes.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3313">#3313</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_decode_alignments</span></code> to decode full-length reference-based
sequence alignments for specified nodes over a genomic interval, respecting
<code class="docutils literal notranslate"><span class="pre">TSK_ISOLATED_NOT_MISSING</span></code> semantics.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3324">#3324</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/3319">#3319</a>)</p></li>
</ul>
</section>
<section id="id38">
<h3>[1.2.0] - 2025-09-24<a class="headerlink" href="#id38" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">tsk_diff_iter_t</span></code> and associated functions.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3221">#3221</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2797">#2797</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tsk_treeseq_init</span></code> now requires that mutation parents in the table collection
are correct and consistent with the topology of the tree at each mutation site.
Returns <code class="docutils literal notranslate"><span class="pre">TSK_ERR_BAD_MUTATION_PARENT</span></code> if this is not the case, or
<code class="docutils literal notranslate"><span class="pre">TSK_ERR_MUTATION_PARENT_AFTER_CHILD</span></code> if the mutations are not in an order
compatible with the correct mutation parent.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2729">#2729</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2732">#2732</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3212">#3212</a>).</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TSK_TS_INIT_COMPUTE_MUTATION_PARENTS</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_init</span></code>
to compute mutation parents from the tree sequence topology.
Note that the mutations must be in the correct order.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2757">#2757</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3212">#3212</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TSK_CHECK_MUTATION_PARENTS</span></code> option to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_check_integrity</span></code>
to check that mutation parents are consistent with the tree sequence topology.
This option implies <code class="docutils literal notranslate"><span class="pre">TSK_CHECK_TREES</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2729">#2729</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2732">#2732</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3212">#3212</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TSK_NO_CHECK_INTEGRITY</span></code> option to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_compute_mutation_parents</span></code>
to skip the integrity checks that are normally run when computing mutation parents.
This is useful for speeding up the computation of mutation parents when the
tree sequence is certainly known to be valid.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3212">#3212</a>).</p></li>
<li><p>Mutations returned by <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_get_mutation</span></code> now include pre-computed
<code class="docutils literal notranslate"><span class="pre">inherited_state</span></code> and <code class="docutils literal notranslate"><span class="pre">inherited_state_length</span></code> fields. The inherited state
is computed during tree sequence initialization and represents the state that
existed at the site before each mutation occurred (either the ancestral state
if the mutation is the root mutation or the derived state of the parent mutation).
Note that this breaks ABI compatibility due to the addition of these fields
to the <code class="docutils literal notranslate"><span class="pre">tsk_mutation_t</span></code> struct.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3277">#3277</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2631">#2631</a>).</p></li>
</ul>
</section>
<section id="id39">
<h3>[1.1.4] - 2025-03-31<a class="headerlink" href="#id39" title="Link to this heading">#</a></h3>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>Added the TSK_TRACE_ERRORS macro to enable tracing of errors in the C library.
This is useful for debugging as errors will print to stderr when set.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/3095">#3095</a>).</p></li>
</ul>
</section>
<section id="id40">
<h3>[1.1.3] - 2024-10-16<a class="headerlink" href="#id40" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add the <cite>tsk_treeseq_extend_haplotypes</cite> method that can compress a tree sequence
by extending edges into adjacent trees and thus creating unary nodes in those
trees (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/hfr1tze">&#64;hfr1tze</a>, <a class="reference external" href="https://github.com/sponsors/avabamf">&#64;avabamf</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2651">#2651</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2938">#2938</a>).</p></li>
</ul>
</section>
<section id="id41">
<h3>[1.1.2] - 2023-05-17<a class="headerlink" href="#id41" title="Link to this heading">#</a></h3>
<p><strong>Performance improvements</strong></p>
<ul class="simple">
<li><p>tsk_tree_seek is now much faster at seeking to arbitrary points along
the sequence from the null tree (<a class="reference external" href="https://github.com/sponsors/molpopgen">&#64;molpopgen</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2661">#2661</a>).</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>The struct <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_t</span></code> now has the variables <code class="docutils literal notranslate"><span class="pre">min_time</span></code> and <code class="docutils literal notranslate"><span class="pre">max_time</span></code>,
which are the minimum and maximum among the node times and mutation times,
respectively. <code class="docutils literal notranslate"><span class="pre">min_time</span></code> and <code class="docutils literal notranslate"><span class="pre">max_time</span></code> can be accessed using the functions
<code class="docutils literal notranslate"><span class="pre">tsk_treeseq_get_min_time</span></code> and <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_get_max_time</span></code>, respectively.
(<a class="reference external" href="https://github.com/sponsors/szhan">&#64;szhan</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2612">#2612</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2271">#2271</a>)</p></li>
<li><p>Add the <cite>TSK_SIMPLIFY_NO_FILTER_NODES</cite> option to simplify to allow unreferenced
nodes be kept in the output (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2606">#2606</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2619">#2619</a>).</p></li>
<li><p>Add the <cite>TSK_SIMPLIFY_NO_UPDATE_SAMPLE_FLAGS</cite> option to simplify which ensures
no node sample flags are changed to allow calling code to manage sample status.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2662">#2662</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2663">#2663</a>).</p></li>
<li><p>Guarantee that unfiltered tables are not written to unnecessarily
during simplify (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2619">#2619</a>).</p></li>
<li><p>Add <cite>x_table_keep_rows</cite> methods to provide efficient in-place table subsetting
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2700">#2700</a>).</p></li>
<li><p>Add <cite>tsk_tree_seek_index</cite> function</p></li>
</ul>
</section>
<section id="id42">
<h3>[1.1.1] - 2022-07-29<a class="headerlink" href="#id42" title="Link to this heading">#</a></h3>
<p><strong>Bug fixes</strong></p>
<ul class="simple">
<li><p>Fix segfault in tsk_variant_restricted_copy in tree sequences with large
numbers of alleles or very long alleles
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2437">#2437</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2429">#2429</a>).</p></li>
</ul>
</section>
<section id="id43">
<h3>[1.1.0] - 2022-07-14<a class="headerlink" href="#id43" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">num_children</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_tree_t</span></code> an array which contains counts of the number of child
nodes of each node in the tree. (<a class="reference external" href="https://github.com/sponsors/GertjanBisschop">&#64;GertjanBisschop</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2274">#2274</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2316">#2316</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">edge</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_tree_t</span></code> an array which contains the <code class="docutils literal notranslate"><span class="pre">edge_id</span></code> of the edge encoding
the relationship between the child node and its parent for each (child) node in the tree.
(<a class="reference external" href="https://github.com/sponsors/GertjanBisschop">&#64;GertjanBisschop</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2304">#2304</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2340">#2340</a>)</p></li>
</ul>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>Reduce the maximum number of rows in a table by 1. This removes edge cases so that a <code class="docutils literal notranslate"><span class="pre">tsk_id_t</span></code> can be
used to count the number of rows. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2336">#2336</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2337">#2337</a>)</p></li>
<li><p>Samples are now copied by <code class="docutils literal notranslate"><span class="pre">tsk_variant_restricted_copy</span></code>. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2400">#2400</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2401">#2401</a>)</p></li>
</ul>
</section>
<section id="id44">
<h3>[1.0.0] - 2022-05-24<a class="headerlink" href="#id44" title="Link to this heading">#</a></h3>
<p>This major release marks the point at which the documented API becomes stable and supported.</p>
<p><strong>Breaking changes</strong></p>
<ul>
<li><p>Change the type of genotypes to <code class="docutils literal notranslate"><span class="pre">int32_t</span></code>, removing the TSK_16_BIT_GENOTYPES flag option.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/463">#463</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2108">#2108</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tsk_variant_t</span></code> now includes its <code class="docutils literal notranslate"><span class="pre">tsk_site_t</span></code> rather than pointing to it.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2161">#2161</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2162">#2162</a>)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">TSK_TAKE_TABLES</span></code> to <code class="docutils literal notranslate"><span class="pre">TSK_TAKE_OWNERSHIP</span></code>.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2221">#2221</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2222">#2222</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TSK_DEBUG</span></code>, <code class="docutils literal notranslate"><span class="pre">TSK_NO_INIT</span></code>, <code class="docutils literal notranslate"><span class="pre">TSK_NO_CHECK_INTEGRITY</span></code> and <code class="docutils literal notranslate"><span class="pre">TSK_TAKE_OWNERSHIP</span></code> have moved to <code class="docutils literal notranslate"><span class="pre">core.h</span></code>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2218">#2218</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2230">#2230</a>))</p></li>
<li><dl class="simple">
<dt>Rename several flags:</dt><dd><ul class="simple">
<li><p>All flags to <code class="docutils literal notranslate"><span class="pre">simplify</span></code> for example <code class="docutils literal notranslate"><span class="pre">TSK_KEEP_INPUT_ROOTS</span></code> becomes <code class="docutils literal notranslate"><span class="pre">TSK_SIMPLIFY_KEEP_INPUT_ROOTS</span></code>.</p></li>
<li><p>All flags to <code class="docutils literal notranslate"><span class="pre">subset</span></code> for example <code class="docutils literal notranslate"><span class="pre">TSK_KEEP_UNREFERENCED</span></code> becomes <code class="docutils literal notranslate"><span class="pre">TSK_SUBSET_KEEP_UNREFERENCED</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TSK_BUILD_INDEXES</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">TSK_TS_INIT_BUILD_INDEXES</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TSK_NO_METADATA</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">TSK_TABLE_NO_METADATA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TSK_NO_EDGE_METADATA</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">TSK_TC_NO_EDGE_METADATA</span></code></p></li>
</ul>
</dd>
</dl>
<p>(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1720">#1720</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2226">#2226</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2229">#2229</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2224">#2224</a>)</p>
</li>
<li><p>Remove the generic <code class="docutils literal notranslate"><span class="pre">TSK_ERR_OUT_OF_BOUNDS</span></code> - replacing with specific errors.
Remove <code class="docutils literal notranslate"><span class="pre">TSK_ERR_NON_SINGLE_CHAR_MUTATION</span></code> which was unused.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2260">#2260</a>)</p></li>
<li><p>Reorder stats API methods to place <code class="docutils literal notranslate"><span class="pre">result</span></code> as the last argument. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2292">#2292</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2285">#2285</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Make dumping of tables and tree sequences to disk a zero-copy operation.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2111">#2111</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2124">#2124</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">edge</span></code> attribute to <code class="docutils literal notranslate"><span class="pre">mutation_t</span></code> struct and make available in tree sequence.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/685">#685</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2279">#2279</a>)</p></li>
<li><p>Reduce peak memory usage in <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_simplify</span></code>.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2287">#2287</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2288">#2288</a>)</p></li>
</ul>
</section>
<section id="id45">
<h3>[0.99.15] - 2021-12-07<a class="headerlink" href="#id45" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">tables</span></code> argument to <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_init</span></code> is no longer <code class="docutils literal notranslate"><span class="pre">const</span></code>, to allow for future no-copy tree sequence creation.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1718">#1718</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1719">#1719</a>)</p></li>
<li><p>Additional consistency checks for mutation tables are now run by <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_check_integrity</span></code>
even when <code class="docutils literal notranslate"><span class="pre">TSK_CHECK_MUTATION_ORDERING</span></code> is not passed in. (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1713">#1713</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1722">#1722</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_tracked_samples</span></code> and <code class="docutils literal notranslate"><span class="pre">num_samples</span></code> in <code class="docutils literal notranslate"><span class="pre">tsk_tree_t</span></code> are now typed as <code class="docutils literal notranslate"><span class="pre">tsk_size_t</span></code>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1723">#1723</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1727">#1727</a>)</p></li>
<li><p>The previously deprecated option <code class="docutils literal notranslate"><span class="pre">TSK_SAMPLE_COUNTS</span></code> has been removed. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1744">#1744</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1761">#1761</a>).</p></li>
<li><p>Individuals are no longer guaranteed or required to be topologically sorted in a tree sequence.
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_sort</span></code> no longer sorts individuals.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1774">#1774</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1789">#1789</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">tsk_tree_t.left_root</span></code> member has been removed. Client code can be updated
most easily by using the equivalent <code class="docutils literal notranslate"><span class="pre">tsk_tree_get_left_root</span></code> function. However,
it may be worth considering updating code to use either the standard traversal
functions (which automatically iterate over roots) or to use the <code class="docutils literal notranslate"><span class="pre">virtual_root</span></code>
member (which may lead to more concise code). (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1796">#1796</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1862">#1862</a>)</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">tsk_tree_t.left</span></code> and <code class="docutils literal notranslate"><span class="pre">tsk_tree_t.right</span></code> members to
<code class="docutils literal notranslate"><span class="pre">tsk_tree_t.interval.left</span></code> and <code class="docutils literal notranslate"><span class="pre">tsk_tree_t.interval.right</span></code> respectively.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1686">#1686</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1913">#1913</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kastore</span></code> is now vendored into this repo instead of being a git submodule. Developers need to run
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span></code>. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1687">#1687</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1973">#1973</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tree</span></code> arrays such as <code class="docutils literal notranslate"><span class="pre">left_sib</span></code>, <code class="docutils literal notranslate"><span class="pre">right_child</span></code> etc. now have an additional
“virtual root” node at the end. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1691">#1691</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">marked</span></code> and <code class="docutils literal notranslate"><span class="pre">mark</span></code> have been removed from <code class="docutils literal notranslate"><span class="pre">tsk_tree_t</span></code>. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1936">#1936</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_individual_topological_sort</span></code> to sort the individuals as this is no longer done by the
default sort. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1774">#1774</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1789">#1789</a>)</p></li>
<li><p>The default behaviour for table size growth is now to double the current size of the table,
up to a threshold. To keep the previous behaviour, use (e.g.)
<code class="docutils literal notranslate"><span class="pre">tsk_edge_table_set_max_rows_increment(tables-&gt;edges,</span> <span class="pre">1024)</span></code>, which results in adding
space for 1024 additional rows each time we run out of space in the edge table.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/5">#5</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1683">#1683</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tsk_table_collection_check_integrity</span></code> now has a <code class="docutils literal notranslate"><span class="pre">TSK_CHECK_MIGRATION_ORDERING</span></code> flag. (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1722">#1722</a>)</p></li>
<li><p>The default behaviour for ragged column growth is now to double the current size of the column,
up to a threshold. To keep the previous behaviour, use (e.g.)
<code class="docutils literal notranslate"><span class="pre">tsk_node_table_set_max_metadata_length_increment(tables-&gt;nodes,</span> <span class="pre">1024)</span></code>, which results in adding
space for 1024 additional entries each time we run out of space in the ragged column.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1703">#1703</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1709">#1709</a>)</p></li>
<li><p>Support for compiling the C library on Windows using msys2 (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1742">#1742</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">time_units</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_t</span></code> to describe the units of the time dimension of the
tree sequence. This is then used to geerate an error if <code class="docutils literal notranslate"><span class="pre">time_units</span></code> is <code class="docutils literal notranslate"><span class="pre">uncalibrated</span></code> when
using the branch lengths in statistics. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1644">#1644</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1760">#1760</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TSK_LOAD_SKIP_TABLES</span></code> option to load just the top-level information from a
file. Also add the <code class="docutils literal notranslate"><span class="pre">TSK_CMP_IGNORE_TABLES</span></code> option to compare only the top-level
information in two table collections. (<a class="reference external" href="https://github.com/sponsors/clwgg">&#64;clwgg</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1882">#1882</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1854">#1854</a>).</p></li>
<li><p>Add reference sequence.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/146">#146</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1911">#1911</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1944">#1944</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1911">#1911</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TSK_LOAD_SKIP_REFERENCE_SEQUENCE</span></code> option to load a table collection
without the reference sequence. Also add the TSK_CMP_IGNORE_REFERENCE_SEQUENCE
option to compare two table collections without comparing their reference
sequence. (<a class="reference external" href="https://github.com/sponsors/clwgg">&#64;clwgg</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/2019">#2019</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1971">#1971</a>).</p></li>
<li><p>Add a “virtual root” to <code class="docutils literal notranslate"><span class="pre">Tree</span></code> arrays such as <code class="docutils literal notranslate"><span class="pre">left_sib</span></code>, <code class="docutils literal notranslate"><span class="pre">right_child</span></code> etc.
The virtual root is appended to each array, has all real roots as its children,
but is not the parent of any node. Simplifies traversal algorithms.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1691">#1691</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">num_edges</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_tree_t</span></code> to count the edges that define the topology of
the tree. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">tsk_tree_get_size_bound</span></code> function which returns an upper bound on the number of nodes reachable from
the roots of a tree. Useful for tree stack allocations (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1704">#1704</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">MetadataSchema.permissive_json</span></code> for an easy way to get the simplest schema.</p></li>
</ul>
</section>
<section id="id46">
<h3>[0.99.14] - 2021-09-03<a class="headerlink" href="#id46" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>64 bits are now used to store the sizes of ragged table columns such as metadata,
allowing them to hold more data. As such <code class="docutils literal notranslate"><span class="pre">tsk_size_t</span></code> is now 64 bits wide.
This change is fully backwards and forwards compatible for all tree-sequences whose
ragged column sizes fit into 32 bits. New tree-sequences with
large offset arrays that require 64 bits will fail to load in previous versions with
error <code class="docutils literal notranslate"><span class="pre">TSK_ERR_BAD_COLUMN_TYPE</span></code>.
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/343">#343</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1527">#1527</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1528">#1528</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1530">#1530</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1554">#1554</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1573">#1573</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1589">#1589</a>,:issue:<cite>1598</cite>,:issue:<cite>1628</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1571">#1571</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1579">#1579</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1585">#1585</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1590">#1590</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1602">#1602</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1618">#1618</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1620">#1620</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1652">#1652</a>).</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <cite>tsk_X_table_update_row</cite> methods which allow modifying single rows of tables
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1545">#1545</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1552">#1552</a>).</p></li>
</ul>
</section>
<section id="id47">
<h3>[0.99.13] - 2021-07-08<a class="headerlink" href="#id47" title="Link to this heading">#</a></h3>
<p><strong>Fixes</strong></p>
<ul class="simple">
<li><p>Fix segfault when very large columns overflow
(<a class="reference external" href="https://github.com/sponsors/bhaller">&#64;bhaller</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1509">#1509</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1511">#1511</a>).</p></li>
</ul>
</section>
<section id="id48">
<h3>[0.99.12] - 2021-05-14<a class="headerlink" href="#id48" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">TSK_NO_BUILD_INDEXES</span></code>.
Not building indexes is now the default behaviour of <cite>tsk_table_collection_dump</cite> and related functions.
(<a class="reference external" href="https://github.com/sponsors/molpopgen">&#64;molpopgen</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1327">#1327</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1337">#1337</a>).</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tsk_*_table_extend</span></code> methods to append to a table from another
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1271">#1271</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1287">#1287</a>).</p></li>
</ul>
<p><strong>Fixes</strong></p>
</section>
<section id="id49">
<h3>[0.99.11] - 2021-03-16<a class="headerlink" href="#id49" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">parents</span></code> to the individual table to enable recording of pedigrees
(<a class="reference external" href="https://github.com/sponsors/ivan-krukov">&#64;ivan-krukov</a>, <a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/852">#852</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1125">#1125</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/866">#866</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1153">#1153</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1177">#1177</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1199">#1199</a>).</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_canonicalise</span></code> method, that allows checking for equality between
tables that are equivalent up to reordering (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1108">#1108</a>).</p></li>
<li><p>Removed a previous requirement on <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_union</span></code>, allowing for unioning of
new information both above and below shared history (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1108">#1108</a>).</p></li>
<li><p>Support migrations in tsk_table_collection_sort. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/22">#22</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/117">#117</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1131">#1131</a>).</p></li>
</ul>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Method <code class="docutils literal notranslate"><span class="pre">tsk_individual_table_add_row</span></code> has an extra arguments <code class="docutils literal notranslate"><span class="pre">parents</span></code> and <code class="docutils literal notranslate"><span class="pre">parents_length</span></code>.</p></li>
<li><p>Add an <code class="docutils literal notranslate"><span class="pre">options</span></code> argument to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_subset</span></code> (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1108">#1108</a>),
to allow for retaining the order of populations.</p></li>
<li><p>Mutation error codes have changed</p></li>
</ul>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>Allow mutations that have the same derived state as their parent mutation.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1180">#1180</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1233">#1233</a>)</p></li>
<li><p>File minor version change to support individual parents</p></li>
</ul>
</section>
<section id="id50">
<h3>[0.99.10] - 2021-01-25<a class="headerlink" href="#id50" title="Link to this heading">#</a></h3>
<p>Minor bugfix on internal APIs</p>
</section>
<section id="id51">
<h3>[0.99.9] - 2021-01-22<a class="headerlink" href="#id51" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">TSK_SIMPLIFY_KEEP_UNARY_IN_INDIVIDUALS</span></code> flag to simplify, which allows the user to
keep unary nodes only if they belong to a tabled individual. This is useful for
simplification in forwards simulations (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1113">#1113</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1119">#1119</a>).</p></li>
</ul>
</section>
<section id="id52">
<h3>[0.99.8] - 2020-11-27<a class="headerlink" href="#id52" title="Link to this heading">#</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_genetic_relatedness</span></code> for calculating genetic relatedness between
pairs of sets of nodes (<a class="reference external" href="https://github.com/sponsors/brieuclehmann">&#64;brieuclehmann</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1021">#1021</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1023">#1023</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/974">#974</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/973">#973</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/898">#898</a>).</p></li>
<li><p>Exposed <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_set_indexes</span></code> to the API
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/870">#870</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/921">#921</a>).</p></li>
</ul>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Added an <code class="docutils literal notranslate"><span class="pre">options</span></code> argument to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_equals</span></code>
and table equality methods to allow for more flexible equality criteria
(e.g., ignore top-level metadata and schema or provenance tables).
Existing code should add an extra final parameter <code class="docutils literal notranslate"><span class="pre">0</span></code> to retain the
current behaviour (<a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/896">#896</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/897">#897</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/913">#913</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/917">#917</a>).</p></li>
<li><p>Changed default behaviour of <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_clear</span></code> to not clear
provenances and added <code class="docutils literal notranslate"><span class="pre">options</span></code> argument to optionally clear provenances
and schemas (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/929">#929</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1001">#1001</a>).</p></li>
<li><p>Renamed <code class="docutils literal notranslate"><span class="pre">ts.trait_regression</span></code> to <code class="docutils literal notranslate"><span class="pre">ts.trait_linear_model</span></code>.</p></li>
</ul>
</section>
<section id="id53">
<h3>[0.99.7] - 2020-09-29<a class="headerlink" href="#id53" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TSK_INCLUDE_TERMINAL</span></code> option to <code class="docutils literal notranslate"><span class="pre">tsk_diff_iter_init</span></code> to output the last edges
at the end of a tree sequence (<a class="reference external" href="https://github.com/sponsors/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/783">#783</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/787">#787</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">tsk_bug_assert</span></code> for assertions that should be compiled into release binaries
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/860">#860</a>).</p></li>
</ul>
</section>
<section id="id54">
<h3>[0.99.6] - 2020-09-04<a class="headerlink" href="#id54" title="Link to this heading">#</a></h3>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/823">#823</a> - Fix mutation time error when using
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_simplify</span></code> with <code class="docutils literal notranslate"><span class="pre">TSK_SIMPLIFY_KEEP_INPUT_ROOTS</span></code>
(<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/823">#823</a>).</p></li>
</ul>
</section>
<section id="id55">
<h3>[0.99.5] - 2020-08-27<a class="headerlink" href="#id55" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The macro <code class="docutils literal notranslate"><span class="pre">TSK_IMPUTE_MISSING_DATA</span></code> is renamed to <code class="docutils literal notranslate"><span class="pre">TSK_ISOLATED_NOT_MISSING</span></code>
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/716">#716</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/794">#794</a>)</p></li>
</ul>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">TSK_SIMPLIFY_KEEP_INPUT_ROOTS</span></code> option to simplify which, if enabled, adds edges
from the MRCAs of samples in the simplified tree sequence back to the roots
in the input tree sequence (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/775">#775</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/782">#782</a>).</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/777">#777</a> - Mutations over isolated samples were incorrectly decoded as
missing data. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/778">#778</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/776">#776</a> - Fix a segfault when a partial list of samples
was provided to the <code class="docutils literal notranslate"><span class="pre">variants</span></code> iterator. (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/778">#778</a>)</p></li>
</ul>
</section>
<section id="id56">
<h3>[0.99.4] - 2020-08-12<a class="headerlink" href="#id56" title="Link to this heading">#</a></h3>
<p><strong>Note</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">TSK_VERSION_PATCH</span></code> macro was incorrectly set to <code class="docutils literal notranslate"><span class="pre">4</span></code> for 0.99.3, so both
0.99.4 and 0.99.3 have the same value.</p></li>
</ul>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>Mutation times can be a mixture of known and unknown as long as for each
individual site  they are either all known or all unknown (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/761">#761</a>).</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix for including core.h under C++ (<a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/755">#755</a>).</p></li>
</ul>
</section>
<section id="id57">
<h3>[0.99.3] - 2020-07-27<a class="headerlink" href="#id57" title="Link to this heading">#</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tsk_mutation_table_add_row</span></code> has an extra <code class="docutils literal notranslate"><span class="pre">time</span></code> argument. If the time
is unknown <code class="docutils literal notranslate"><span class="pre">TSK_UNKNOWN_TIME</span></code> should be passed.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/672">#672</a>)</p></li>
<li><p>Change genotypes from unsigned to signed to accommodate missing data
(see <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/144">#144</a> for discussion). This only affects users of the
<code class="docutils literal notranslate"><span class="pre">tsk_vargen_t</span></code> class. Genotypes are now stored as int8_t and int16_t
types rather than the former unsigned types. The field names in the
genotypes union of the <code class="docutils literal notranslate"><span class="pre">tsk_variant_t</span></code> struct returned by <code class="docutils literal notranslate"><span class="pre">tsk_vargen_next</span></code>
have been renamed to <code class="docutils literal notranslate"><span class="pre">i8</span></code> and <code class="docutils literal notranslate"><span class="pre">i16</span></code> accordingly; care should be
taken when updating client code to ensure that types are correct. The number
of distinct alleles supported by 8 bit genotypes has therefore dropped
from 255 to 127, with a similar reduction for 16 bit genotypes.</p></li>
<li><p>Change the <code class="docutils literal notranslate"><span class="pre">tsk_vargen_init</span></code> method to take an extra parameter <code class="docutils literal notranslate"><span class="pre">alleles</span></code>.
To keep the current behaviour, set this parameter to NULL.</p></li>
<li><p>Edges can now have metadata. Hence edge methods now take two extra arguments:
metadata and metadata length. The file format has also changed to accommodate this,
but is backwards compatible. Edge metadata can be disabled for a table collection with
the TSK_NO_EDGE_METADATA flag.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/496">#496</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/712">#712</a>)</p></li>
<li><p>Migrations can now have metadata. Hence migration methods now take two extra arguments:
metadata and metadata length. The file format has also changed to accommodate this,
but is backwards compatible.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/505">#505</a>)</p></li>
<li><p>The text dump of tables with metadata now includes the metadata schema as a header.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/493">#493</a>)</p></li>
<li><p>Bad tree topologies are detected earlier, so that it is no longer possible
to create a tsk_treeseq_t object which contains a parent with contradictory
children on an interval. Previously an error occured when some operation
building the trees was attempted (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/709">#709</a>).</p></li>
</ul>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>New methods to perform set operations on table collections.
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_subset</span></code> subsets and reorders table collections by nodes
(<a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/663">#663</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/690">#690</a>).
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_union</span></code> forms the node-wise union of two table collections
(<a class="reference external" href="https://github.com/sponsors/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/sponsors/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/381">#381</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/623">#623</a>).</p></li>
<li><p>Mutations now have an optional double-precision floating-point <code class="docutils literal notranslate"><span class="pre">time</span></code> column.
If not specified, this defaults to a particular NaN value (<code class="docutils literal notranslate"><span class="pre">TSK_UNKNOWN_TIME</span></code>)
indicating that the time is unknown. For a tree sequence to be considered valid
it must meet new criteria for mutation times, see <a class="reference internal" href="data-model.html#sec-mutation-requirements"><span class="std std-ref">Mutation requirements</span></a>.
Add <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_compute_mutation_times</span></code> and new flag to
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_check_integrity</span></code>:<code class="docutils literal notranslate"><span class="pre">TSK_CHECK_MUTATION_TIME</span></code>. Table sorting
orders mutations by non-increasing time per-site, which is also a requirement for a
valid tree sequence.
(<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/672">#672</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">metadata</span></code> and <code class="docutils literal notranslate"><span class="pre">metadata_schema</span></code> fields to table collection, with accessors on
tree sequence. These store arbitrary bytes and are optional in the file format.
(:user: <cite>benjeffery</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/641">#641</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TSK_SIMPLIFY_KEEP_UNARY</span></code> option to simplify (<a class="reference external" href="https://github.com/sponsors/gtsambos">&#64;gtsambos</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1">#1</a>
and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/143">#143</a>.</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">set_root_threshold</span></code> option to tsk_tree_t which allows us to set the
number of samples a node must be an ancestor of to be considered a root
(<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/462">#462</a>).</p></li>
<li><p>Change the semantics of tsk_tree_t so that sample counts are always
computed, and add a new <code class="docutils literal notranslate"><span class="pre">TSK_NO_SAMPLE_COUNTS</span></code> option to turn this
off (<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/462">#462</a>).</p></li>
<li><p>Tables with metadata now have an optional <cite>metadata_schema</cite> field that can contain
arbitrary bytes. (<a class="reference external" href="https://github.com/sponsors/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/493">#493</a>)</p></li>
<li><p>Tables loaded from a file can now be edited in the same way as any other
table collection (<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/536">#536</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/530">#530</a>.</p></li>
<li><p>Support for reading/writing to arbitrary file streams with the loadf/dumpf
variants for tree sequence and table collection load/dump
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/sponsors/grahamgower">&#64;grahamgower</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/565">#565</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/599">#599</a>).</p></li>
<li><p>Add low-level sorting API and <code class="docutils literal notranslate"><span class="pre">TSK_NO_CHECK_INTEGRITY</span></code> flag
(<a class="reference external" href="https://github.com/sponsors/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/627">#627</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/626">#626</a>).</p></li>
<li><p>Add extension of Kendall-Colijn tree distance metric for tree sequences
computed by <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_kc_distance</span></code>
(<a class="reference external" href="https://github.com/sponsors/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/548">#548</a>)</p></li>
</ul>
<p><strong>Deprecated</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">TSK_SAMPLE_COUNTS</span></code> options is now ignored and  will print out a warning
if used (<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/462">#462</a>).</p></li>
</ul>
</section>
<section id="id58">
<h3>[0.99.2] - 2019-03-27<a class="headerlink" href="#id58" title="Link to this heading">#</a></h3>
<p>Bugfix release. Changes:</p>
<ul class="simple">
<li><p>Fix incorrect errors on tbl_collection_dump (#132)</p></li>
<li><p>Catch table overflows (#157)</p></li>
</ul>
</section>
<section id="id59">
<h3>[0.99.1] - 2019-01-24<a class="headerlink" href="#id59" title="Link to this heading">#</a></h3>
<p>Refinements to the C API as we move towards 1.0.0. Changes:</p>
<ul class="simple">
<li><p>Change the <code class="docutils literal notranslate"><span class="pre">_tbl_</span></code> abbreviation to <code class="docutils literal notranslate"><span class="pre">_table_</span></code> to improve readability.
Hence, we now have, e.g., <code class="docutils literal notranslate"><span class="pre">tsk_node_table_t</span></code> etc.</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">tsk_tbl_size_t</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_size_t</span></code>.</p></li>
<li><p>Standardise public API to use <code class="docutils literal notranslate"><span class="pre">tsk_size_t</span></code> and <code class="docutils literal notranslate"><span class="pre">tsk_id_t</span></code> as appropriate.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tsk_flags_t</span></code> typedef and consistently use this as the type used to
encode bitwise flags. To avoid confusion, functions now have an <code class="docutils literal notranslate"><span class="pre">options</span></code>
parameter.</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_position_t</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_bookmark_t</span></code>.</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_reset_position</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_truncate</span></code>
and <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_record_position</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_record_num_rows</span></code>.</p></li>
<li><p>Generalise <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_sort</span></code> to take a bookmark as start argument.</p></li>
<li><p>Relax restriction that nodes in the <code class="docutils literal notranslate"><span class="pre">samples</span></code> argument to simplify must
currently be marked as samples. (<a class="github reference external" href="https://github.com/tskit-dev/tskit/issues/72">tskit-dev/tskit#72</a>)</p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_simplify</span></code> to take a NULL samples argument to
specify “all samples in the current tables”.</p></li>
<li><p>Add support for building as a meson subproject.</p></li>
</ul>
</section>
<section id="id60">
<h3>[0.99.0] - 2019-01-14<a class="headerlink" href="#id60" title="Link to this heading">#</a></h3>
<p>Initial alpha version of the tskit C API tagged. Version 0.99.x
represents the series of releases leading to version 1.0.0 which
will be the first stable release. After 1.0.0, semver rules
regarding API/ABI breakage will apply; however, in the 0.99.x
series arbitrary changes may happen.</p>
</section>
<section id="id61">
<h3>[0.0.0] - 2019-01-10<a class="headerlink" href="#id61" title="Link to this heading">#</a></h3>
<p>Initial extraction of tskit code from msprime. Relicense to MIT.
Code copied at hash 29921408661d5fe0b1a82b1ca302a8b87510fd23</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="development.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Development</p>
      </div>
    </a>
    <a class="right-next"
       href="citation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Citing tskit</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python">Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">[1.0.1] - 2026-02-06</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">[1.0.0] - 2025-11-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">[0.6.4] - 2025-05-21</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">[0.6.3] - 2025-04-28</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">[0.6.2] - 2025-04-01</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">[0.6.1] - 2025-03-31</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">[0.6.0] - 2024-10-16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">[0.5.8] - 2024-06-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">[0.5.7] - 2024-06-17</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">[0.5.6] - 2023-10-10</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">[0.5.5] - 2023-05-17</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">[0.5.4] - 2023-01-13</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">[0.5.3] - 2022-10-03</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">[0.5.2] - 2022-07-29</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">[0.5.1] - 2022-07-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">[0.5.0] - 2022-06-22</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">[0.4.1] - 2022-01-11</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">[0.4.0] - 2021-12-10</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">[0.3.7] - 2021-07-08</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">[0.3.6] - 2021-05-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">[0.3.5] - 2021-03-16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">[0.3.4] - 2020-12-02</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">[0.3.3] - 2020-11-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">[0.3.2] - 2020-09-29</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">[0.3.1] - 2020-09-04</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">[0.3.0] - 2020-08-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">[0.2.3] - 2019-11-22</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">[0.2.2] - 2019-09-01</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">[0.2.1] - 2019-08-23</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">[0.1.5] - 2019-03-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">[0.1.4] - 2019-02-01</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">[0.1.3] - 2019-01-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">[0.1.2] - 2019-01-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">[0.1.1] - 2019-01-11</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">[0.1.0] - 2019-01-11</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a1-2019-01-10">[1.1.0a1] - 2019-01-10</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">[0.0.0] - 2019-01-10</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-api">C API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">[1.3.0] - 2025-11-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">[1.2.0] - 2025-09-24</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">[1.1.4] - 2025-03-31</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">[1.1.3] - 2024-10-16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">[1.1.2] - 2023-05-17</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">[1.1.1] - 2022-07-29</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">[1.1.0] - 2022-07-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">[1.0.0] - 2022-05-24</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">[0.99.15] - 2021-12-07</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">[0.99.14] - 2021-09-03</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id47">[0.99.13] - 2021-07-08</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id48">[0.99.12] - 2021-05-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id49">[0.99.11] - 2021-03-16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id50">[0.99.10] - 2021-01-25</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id51">[0.99.9] - 2021-01-22</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id52">[0.99.8] - 2020-11-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id53">[0.99.7] - 2020-09-29</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id54">[0.99.6] - 2020-09-04</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id55">[0.99.5] - 2020-08-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id56">[0.99.4] - 2020-08-12</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id57">[0.99.3] - 2020-07-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id58">[0.99.2] - 2019-03-27</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id59">[0.99.1] - 2019-01-24</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id60">[0.99.0] - 2019-01-14</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id61">[0.0.0] - 2019-01-10</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tskit Developers
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>